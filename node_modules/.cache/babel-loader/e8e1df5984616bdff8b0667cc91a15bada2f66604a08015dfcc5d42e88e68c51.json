{"ast":null,"code":"import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { focusFirstFocusableNode } from '../../../../../../utilities/focus.js';\nimport { Form } from '../../../../../Form/Form.js';\nimport { FormLayout } from '../../../../../FormLayout/FormLayout.js';\nimport { useI18n } from '../../../../../../utilities/i18n/hooks.js';\nimport { Modal } from '../../../../../Modal/Modal.js';\nimport { TextField } from '../../../../../TextField/TextField.js';\nfunction RenameModal({\n  open,\n  isModalLoading,\n  name,\n  onClose,\n  onClickPrimaryAction,\n  onClickSecondaryAction,\n  helpText,\n  viewNames\n}) {\n  const i18n = useI18n();\n  const [value, setValue] = useState(name);\n  const container = useRef(null);\n  const hasSameNameError = viewNames?.filter(viewName => viewName !== name).some(viewName => viewName.trim().toLowerCase() === value.trim().toLowerCase());\n  const isPrimaryActionDisabled = isModalLoading || hasSameNameError || value === name || !value;\n  useEffect(() => {\n    if (!container.current) return;\n    if (open) {\n      focusFirstFocusableNode(container.current);\n    }\n  }, [open]);\n  useEffect(() => {\n    if (open) {\n      setValue(name);\n    }\n  }, [name, open]);\n  const handleChange = useCallback(newValue => {\n    setValue(newValue);\n  }, []);\n  async function handlePrimaryAction() {\n    if (isPrimaryActionDisabled) {\n      return;\n    }\n    await onClickPrimaryAction(value);\n    setValue('');\n    onClose();\n  }\n  function handleSecondaryAction() {\n    onClickSecondaryAction?.();\n    setValue(name);\n    onClose();\n  }\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    title: i18n.translate('Polaris.Tabs.RenameModal.title'),\n    primaryAction: {\n      content: i18n.translate('Polaris.Tabs.RenameModal.create'),\n      onAction: handlePrimaryAction,\n      disabled: isPrimaryActionDisabled\n    },\n    secondaryActions: [{\n      content: i18n.translate('Polaris.Tabs.RenameModal.cancel'),\n      onAction: handleSecondaryAction\n    }],\n    instant: true\n  }, /*#__PURE__*/React.createElement(Modal.Section, null, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handlePrimaryAction\n  }, /*#__PURE__*/React.createElement(FormLayout, null, /*#__PURE__*/React.createElement(\"div\", {\n    ref: container\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: i18n.translate('Polaris.Tabs.RenameModal.label'),\n    value: value,\n    onChange: handleChange,\n    autoComplete: \"off\",\n    helpText: helpText,\n    maxLength: 40,\n    showCharacterCount: true,\n    error: hasSameNameError ? i18n.translate('Polaris.Tabs.RenameModal.errors.sameName', {\n      name: value\n    }) : undefined\n  }))))));\n}\nexport { RenameModal };","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","focusFirstFocusableNode","Form","FormLayout","useI18n","Modal","TextField","RenameModal","open","isModalLoading","name","onClose","onClickPrimaryAction","onClickSecondaryAction","helpText","viewNames","i18n","value","setValue","container","hasSameNameError","filter","viewName","some","trim","toLowerCase","isPrimaryActionDisabled","current","handleChange","newValue","handlePrimaryAction","handleSecondaryAction","createElement","title","translate","primaryAction","content","onAction","disabled","secondaryActions","instant","Section","onSubmit","ref","label","onChange","autoComplete","maxLength","showCharacterCount","error","undefined"],"sources":["/Users/shannondutton/Documents/Code Projects/ProductCreator/node_modules/@shopify/polaris/build/esm/components/Tabs/components/Tab/components/RenameModal/RenameModal.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { focusFirstFocusableNode } from '../../../../../../utilities/focus.js';\nimport { Form } from '../../../../../Form/Form.js';\nimport { FormLayout } from '../../../../../FormLayout/FormLayout.js';\nimport { useI18n } from '../../../../../../utilities/i18n/hooks.js';\nimport { Modal } from '../../../../../Modal/Modal.js';\nimport { TextField } from '../../../../../TextField/TextField.js';\n\nfunction RenameModal({\n  open,\n  isModalLoading,\n  name,\n  onClose,\n  onClickPrimaryAction,\n  onClickSecondaryAction,\n  helpText,\n  viewNames\n}) {\n  const i18n = useI18n();\n  const [value, setValue] = useState(name);\n  const container = useRef(null);\n  const hasSameNameError = viewNames?.filter(viewName => viewName !== name).some(viewName => viewName.trim().toLowerCase() === value.trim().toLowerCase());\n  const isPrimaryActionDisabled = isModalLoading || hasSameNameError || value === name || !value;\n  useEffect(() => {\n    if (!container.current) return;\n    if (open) {\n      focusFirstFocusableNode(container.current);\n    }\n  }, [open]);\n  useEffect(() => {\n    if (open) {\n      setValue(name);\n    }\n  }, [name, open]);\n  const handleChange = useCallback(newValue => {\n    setValue(newValue);\n  }, []);\n  async function handlePrimaryAction() {\n    if (isPrimaryActionDisabled) {\n      return;\n    }\n    await onClickPrimaryAction(value);\n    setValue('');\n    onClose();\n  }\n  function handleSecondaryAction() {\n    onClickSecondaryAction?.();\n    setValue(name);\n    onClose();\n  }\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    title: i18n.translate('Polaris.Tabs.RenameModal.title'),\n    primaryAction: {\n      content: i18n.translate('Polaris.Tabs.RenameModal.create'),\n      onAction: handlePrimaryAction,\n      disabled: isPrimaryActionDisabled\n    },\n    secondaryActions: [{\n      content: i18n.translate('Polaris.Tabs.RenameModal.cancel'),\n      onAction: handleSecondaryAction\n    }],\n    instant: true\n  }, /*#__PURE__*/React.createElement(Modal.Section, null, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handlePrimaryAction\n  }, /*#__PURE__*/React.createElement(FormLayout, null, /*#__PURE__*/React.createElement(\"div\", {\n    ref: container\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: i18n.translate('Polaris.Tabs.RenameModal.label'),\n    value: value,\n    onChange: handleChange,\n    autoComplete: \"off\",\n    helpText: helpText,\n    maxLength: 40,\n    showCharacterCount: true,\n    error: hasSameNameError ? i18n.translate('Polaris.Tabs.RenameModal.errors.sameName', {\n      name: value\n    }) : undefined\n  }))))));\n}\n\nexport { RenameModal };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}