{"ast":null,"code":"import React, { useRef, useReducer, useEffect, useCallback } from 'react';\nimport { ChevronDownIcon, PlusIcon } from '@shopify/polaris-icons';\nimport { classNames } from '../../utilities/css.js';\nimport { useBreakpoints } from '../../utilities/breakpoints.js';\nimport { usePrevious } from '../../utilities/use-previous.js';\nimport { getVisibleAndHiddenTabIndices } from './utilities.js';\nimport styles from './Tabs.css.js';\nimport { Tab } from './components/Tab/Tab.js';\nimport { Panel } from './components/Panel/Panel.js';\nimport { List } from './components/List/List.js';\nimport { CreateViewModal } from './components/CreateViewModal/CreateViewModal.js';\nimport { TabMeasurer } from './components/TabMeasurer/TabMeasurer.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Text } from '../Text/Text.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { UnstyledButton } from '../UnstyledButton/UnstyledButton.js';\nimport { Box } from '../Box/Box.js';\nimport { Popover } from '../Popover/Popover.js';\nimport { Tooltip } from '../Tooltip/Tooltip.js';\nconst CREATE_NEW_VIEW_ID = 'create-new-view';\nconst Tabs = ({\n  tabs,\n  children,\n  selected,\n  newViewAccessibilityLabel,\n  canCreateNewView,\n  disabled,\n  onCreateNewView,\n  onSelect,\n  fitted,\n  disclosureText,\n  disclosureZIndexOverride\n}) => {\n  const i18n = useI18n();\n  const {\n    mdDown\n  } = useBreakpoints();\n  const scrollRef = useRef(null);\n  const wrapRef = useRef(null);\n  const selectedTabRef = useRef(null);\n  const [state, setState] = useReducer((data, partialData) => {\n    return {\n      ...data,\n      ...partialData\n    };\n  }, {\n    disclosureWidth: 0,\n    containerWidth: Infinity,\n    tabWidths: [],\n    visibleTabs: [],\n    hiddenTabs: [],\n    showDisclosure: false,\n    tabToFocus: -1,\n    isNewViewModalActive: false,\n    modalSubmitted: false,\n    isTabsFocused: false,\n    isTabPopoverOpen: false,\n    isTabModalOpen: false\n  });\n  const {\n    tabToFocus,\n    visibleTabs,\n    hiddenTabs,\n    showDisclosure,\n    isNewViewModalActive,\n    modalSubmitted,\n    disclosureWidth,\n    tabWidths,\n    containerWidth,\n    isTabsFocused,\n    isTabModalOpen,\n    isTabPopoverOpen\n  } = state;\n  const prevModalOpen = usePrevious(isTabModalOpen);\n  const prevPopoverOpen = usePrevious(isTabPopoverOpen);\n  useEffect(() => {\n    const hasModalClosed = prevModalOpen && !isTabModalOpen;\n    const hasPopoverClosed = prevPopoverOpen && !isTabPopoverOpen;\n    if (hasModalClosed) {\n      setState({\n        isTabsFocused: true,\n        tabToFocus: selected\n      });\n    } else if (hasPopoverClosed && !isTabModalOpen) {\n      setState({\n        isTabsFocused: true,\n        tabToFocus: selected\n      });\n    }\n  }, [prevPopoverOpen, isTabPopoverOpen, prevModalOpen, isTabModalOpen, selected, tabToFocus]);\n  const handleTogglePopover = useCallback(isOpen => setState({\n    isTabPopoverOpen: isOpen\n  }), []);\n  const handleToggleModal = useCallback(isOpen => setState({\n    isTabModalOpen: isOpen\n  }), []);\n  const handleCloseNewViewModal = () => {\n    setState({\n      isNewViewModalActive: false\n    });\n  };\n  const handleSaveNewViewModal = async value => {\n    if (!onCreateNewView) {\n      return false;\n    }\n    const hasExecuted = await onCreateNewView?.(value);\n    if (hasExecuted) {\n      setState({\n        modalSubmitted: true\n      });\n    }\n    return hasExecuted;\n  };\n  const handleClickNewTab = () => {\n    setState({\n      isNewViewModalActive: true\n    });\n  };\n  const handleTabClick = useCallback(id => {\n    const tab = tabs.find(aTab => aTab.id === id);\n    if (tab == null) {\n      return null;\n    }\n    const selectedIndex = tabs.indexOf(tab);\n    onSelect?.(selectedIndex);\n  }, [tabs, onSelect]);\n  const renderTabMarkup = useCallback((tab, index) => {\n    const handleClick = () => {\n      handleTabClick(tab.id);\n      tab.onAction?.();\n    };\n    const viewNames = tabs.map(({\n      content\n    }) => content);\n    const tabPanelID = tab.panelID || `${tab.id}-panel`;\n    return /*#__PURE__*/React.createElement(Tab, Object.assign({}, tab, {\n      key: `${index}-${tab.id}`,\n      id: tab.id,\n      panelID: children ? tabPanelID : undefined,\n      disabled: disabled || tab.disabled,\n      siblingTabHasFocus: tabToFocus > -1,\n      focused: index === tabToFocus,\n      selected: index === selected,\n      onAction: handleClick,\n      accessibilityLabel: tab.accessibilityLabel,\n      url: tab.url,\n      content: tab.content,\n      onToggleModal: handleToggleModal,\n      onTogglePopover: handleTogglePopover,\n      viewNames: viewNames,\n      disclosureZIndexOverride: disclosureZIndexOverride,\n      ref: index === selected ? selectedTabRef : null\n    }));\n  }, [disabled, tabs, children, selected, tabToFocus, disclosureZIndexOverride, handleTabClick, handleToggleModal, handleTogglePopover]);\n  const handleFocus = useCallback(event => {\n    const target = event.target;\n    const isItem = target.classList.contains(styles.Item);\n    const isInNaturalDOMOrder = target.closest(`[data-tabs-focus-catchment]`) || isItem;\n    const isDisclosureActivator = target.classList.contains(styles.DisclosureActivator);\n    if (isDisclosureActivator || !isInNaturalDOMOrder) {\n      return;\n    }\n    setState({\n      isTabsFocused: true\n    });\n  }, []);\n  const handleBlur = useCallback(event => {\n    const target = event.target;\n    const relatedTarget = event.relatedTarget;\n    const isInNaturalDOMOrder = relatedTarget?.closest?.(`.${styles.Tabs}`);\n    const targetIsATab = target?.classList?.contains?.(styles.Tab);\n    const focusReceiverIsAnItem = relatedTarget?.classList.contains(styles.Item);\n    if (!relatedTarget && !isTabModalOpen && !targetIsATab && !focusReceiverIsAnItem) {\n      setState({\n        tabToFocus: -1\n      });\n      return;\n    }\n    if (!isInNaturalDOMOrder && !isTabModalOpen && !targetIsATab && !focusReceiverIsAnItem) {\n      setState({\n        tabToFocus: -1\n      });\n      return;\n    }\n    setState({\n      isTabsFocused: false\n    });\n  }, [isTabModalOpen]);\n  const handleKeyDown = event => {\n    if (isTabPopoverOpen || isTabModalOpen || isNewViewModalActive) {\n      return;\n    }\n    const {\n      key\n    } = event;\n    if (key === 'ArrowLeft' || key === 'ArrowRight') {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n  useEffect(() => {\n    const {\n      visibleTabs,\n      hiddenTabs\n    } = getVisibleAndHiddenTabIndices(tabs, selected, disclosureWidth, tabWidths, containerWidth);\n    setState({\n      visibleTabs,\n      hiddenTabs\n    });\n  }, [containerWidth, disclosureWidth, tabs, selected, tabWidths, setState]);\n  const moveToSelectedTab = useCallback(() => {\n    const activeButton = selectedTabRef.current?.querySelector(`.${styles['Tab-active']}`);\n    if (activeButton) {\n      moveToActiveTab(activeButton.offsetLeft);\n    }\n  }, []);\n  useEffect(() => {\n    if (mdDown) {\n      moveToSelectedTab();\n    }\n  }, [moveToSelectedTab, selected, mdDown]);\n  useEffect(() => {\n    if (isTabsFocused && !showDisclosure) {\n      const tabToFocus = selected;\n      setState({\n        tabToFocus\n      });\n    }\n  }, [isTabsFocused, selected, setState, showDisclosure]);\n  const handleKeyPress = event => {\n    const {\n      showDisclosure,\n      visibleTabs,\n      hiddenTabs,\n      tabToFocus,\n      isNewViewModalActive\n    } = state;\n    if (isTabModalOpen || isTabPopoverOpen || isNewViewModalActive) {\n      return;\n    }\n    const key = event.key;\n    const tabsArrayInOrder = showDisclosure || mdDown ? visibleTabs.concat(hiddenTabs) : [...visibleTabs];\n    let newFocus = tabsArrayInOrder.indexOf(tabToFocus);\n    if (key === 'ArrowRight') {\n      newFocus += 1;\n      if (newFocus === tabsArrayInOrder.length) {\n        newFocus = 0;\n      }\n    }\n    if (key === 'ArrowLeft') {\n      if (newFocus === -1 || newFocus === 0) {\n        newFocus = tabsArrayInOrder.length - 1;\n      } else {\n        newFocus -= 1;\n      }\n    }\n    const buttonToFocus = tabsArrayInOrder[newFocus];\n    if (buttonToFocus != null) {\n      setState({\n        tabToFocus: buttonToFocus\n      });\n    }\n  };\n  const handleDisclosureActivatorClick = () => {\n    setState({\n      showDisclosure: !showDisclosure,\n      tabToFocus: hiddenTabs[0]\n    });\n  };\n  const handleClose = () => {\n    setState({\n      showDisclosure: false\n    });\n  };\n  const handleMeasurement = useCallback(measurements => {\n    const {\n      hiddenTabWidths: tabWidths,\n      containerWidth,\n      disclosureWidth\n    } = measurements;\n    const {\n      visibleTabs,\n      hiddenTabs\n    } = getVisibleAndHiddenTabIndices(tabs, selected, disclosureWidth, tabWidths, containerWidth);\n    setState({\n      visibleTabs,\n      hiddenTabs,\n      disclosureWidth,\n      containerWidth,\n      tabWidths\n    });\n  }, [tabs, selected, setState]);\n  const handleListTabClick = id => {\n    handleTabClick(id);\n    handleClose();\n    setState({\n      isTabsFocused: true\n    });\n  };\n  const moveToActiveTab = offsetLeft => {\n    setTimeout(() => {\n      if (scrollRef.current && typeof scrollRef.current.scroll === 'function') {\n        const scrollRefOffset = wrapRef?.current?.offsetLeft || 0;\n        scrollRef?.current?.scroll({\n          left: offsetLeft - scrollRefOffset\n        });\n      }\n    }, 0);\n  };\n  const createViewA11yLabel = newViewAccessibilityLabel || i18n.translate('Polaris.Tabs.newViewAccessibilityLabel');\n  const tabsToShow = mdDown ? [...visibleTabs, ...hiddenTabs] : visibleTabs;\n  const tabsMarkup = tabsToShow.sort((tabA, tabB) => tabA - tabB).filter(tabIndex => tabs[tabIndex]).map(tabIndex => renderTabMarkup(tabs[tabIndex], tabIndex));\n  const disclosureActivatorVisible = visibleTabs.length < tabs.length && !mdDown;\n  const classname = classNames(styles.Tabs, fitted && styles.fitted, disclosureActivatorVisible && styles.fillSpace);\n  const wrapperClassNames = classNames(styles.Wrapper, canCreateNewView && styles.WrapperWithNewButton);\n  const disclosureTabClassName = classNames(styles.DisclosureTab, disclosureActivatorVisible && styles['DisclosureTab-visible']);\n  const disclosureButtonClassName = classNames(styles.DisclosureActivator);\n  const disclosureButtonContent = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Text, {\n    as: \"span\",\n    variant: \"bodySm\",\n    fontWeight: \"medium\"\n  }, disclosureText ?? i18n.translate('Polaris.Tabs.toggleTabsLabel')), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(styles.IconWrap, disclosureActivatorVisible && showDisclosure && styles['IconWrap-open'])\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: ChevronDownIcon,\n    tone: \"subdued\"\n  })));\n  const disclosureButton = /*#__PURE__*/React.createElement(UnstyledButton, {\n    type: \"button\",\n    className: disclosureButtonClassName,\n    onClick: handleDisclosureActivatorClick,\n    \"aria-label\": disclosureText ?? i18n.translate('Polaris.Tabs.toggleTabsLabel'),\n    disabled: disabled\n  }, disclosureButtonContent);\n  const activator = disclosureButton;\n  const disclosureTabs = hiddenTabs.map(tabIndex => tabs[tabIndex]);\n  const viewNames = tabs.map(({\n    content\n  }) => content);\n  const tabMeasurer = /*#__PURE__*/React.createElement(TabMeasurer, {\n    tabToFocus: tabToFocus,\n    activator: activator,\n    selected: selected,\n    tabs: tabs,\n    siblingTabHasFocus: tabToFocus > -1,\n    handleMeasurement: handleMeasurement\n  });\n  const newTab = /*#__PURE__*/React.createElement(Tab, {\n    id: CREATE_NEW_VIEW_ID,\n    content: createViewA11yLabel,\n    actions: [],\n    onAction: handleClickNewTab,\n    onFocus: () => {\n      if (modalSubmitted) {\n        setState({\n          tabToFocus: selected,\n          modalSubmitted: false\n        });\n      }\n    },\n    icon: /*#__PURE__*/React.createElement(Icon, {\n      source: PlusIcon,\n      accessibilityLabel: createViewA11yLabel\n    }),\n    disabled: disabled,\n    onTogglePopover: handleTogglePopover,\n    onToggleModal: handleToggleModal,\n    tabIndexOverride: 0\n  });\n  const panelMarkup = children ? tabs.map((_tab, index) => {\n    return selected === index ? /*#__PURE__*/React.createElement(Panel, {\n      id: tabs[index].panelID || `${tabs[index].id}-panel`,\n      tabID: tabs[index].id,\n      key: tabs[index].id\n    }, children) : /*#__PURE__*/React.createElement(Panel, {\n      id: tabs[index].panelID || `${tabs[index].id}-panel`,\n      tabID: tabs[index].id,\n      key: tabs[index].id,\n      hidden: true\n    });\n  }) : null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Outer\n  }, /*#__PURE__*/React.createElement(Box, {\n    padding: {\n      md: '200'\n    }\n  }, tabMeasurer, /*#__PURE__*/React.createElement(\"div\", {\n    className: wrapperClassNames,\n    ref: scrollRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ButtonWrapper,\n    ref: wrapRef\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    role: tabsMarkup.length > 0 ? 'tablist' : undefined,\n    className: classname,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyPress,\n    \"data-tabs-focus-catchment\": true\n  }, tabsMarkup, mdDown || tabsToShow.length === 0 ? null : /*#__PURE__*/React.createElement(\"li\", {\n    className: disclosureTabClassName,\n    role: \"presentation\"\n  }, /*#__PURE__*/React.createElement(Popover, {\n    preferredPosition: \"below\",\n    preferredAlignment: \"left\",\n    activator: activator,\n    active: disclosureActivatorVisible && showDisclosure,\n    onClose: handleClose,\n    autofocusTarget: \"first-node\",\n    zIndexOverride: disclosureZIndexOverride\n  }, /*#__PURE__*/React.createElement(List, {\n    focusIndex: hiddenTabs.indexOf(tabToFocus),\n    disclosureTabs: disclosureTabs,\n    onClick: handleListTabClick,\n    onKeyPress: handleKeyPress\n  })))), canCreateNewView && tabsToShow.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.NewTab\n  }, /*#__PURE__*/React.createElement(CreateViewModal, {\n    open: isNewViewModalActive,\n    onClose: handleCloseNewViewModal,\n    onClickPrimaryAction: handleSaveNewViewModal,\n    viewNames: viewNames,\n    activator: disabled ? newTab : /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Tooltip, {\n      content: i18n.translate('Polaris.Tabs.newViewTooltip'),\n      preferredPosition: \"above\",\n      hoverDelay: 400,\n      zIndexOverride: disclosureZIndexOverride\n    }, newTab))\n  })) : null))), panelMarkup);\n};\nexport { Tabs };","map":{"version":3,"names":["React","useRef","useReducer","useEffect","useCallback","ChevronDownIcon","PlusIcon","classNames","useBreakpoints","usePrevious","getVisibleAndHiddenTabIndices","styles","Tab","Panel","List","CreateViewModal","TabMeasurer","useI18n","Text","Icon","UnstyledButton","Box","Popover","Tooltip","CREATE_NEW_VIEW_ID","Tabs","tabs","children","selected","newViewAccessibilityLabel","canCreateNewView","disabled","onCreateNewView","onSelect","fitted","disclosureText","disclosureZIndexOverride","i18n","mdDown","scrollRef","wrapRef","selectedTabRef","state","setState","data","partialData","disclosureWidth","containerWidth","Infinity","tabWidths","visibleTabs","hiddenTabs","showDisclosure","tabToFocus","isNewViewModalActive","modalSubmitted","isTabsFocused","isTabPopoverOpen","isTabModalOpen","prevModalOpen","prevPopoverOpen","hasModalClosed","hasPopoverClosed","handleTogglePopover","isOpen","handleToggleModal","handleCloseNewViewModal","handleSaveNewViewModal","value","hasExecuted","handleClickNewTab","handleTabClick","id","tab","find","aTab","selectedIndex","indexOf","renderTabMarkup","index","handleClick","onAction","viewNames","map","content","tabPanelID","panelID","createElement","Object","assign","key","undefined","siblingTabHasFocus","focused","accessibilityLabel","url","onToggleModal","onTogglePopover","ref","handleFocus","event","target","isItem","classList","contains","Item","isInNaturalDOMOrder","closest","isDisclosureActivator","DisclosureActivator","handleBlur","relatedTarget","targetIsATab","focusReceiverIsAnItem","handleKeyDown","preventDefault","stopPropagation","moveToSelectedTab","activeButton","current","querySelector","moveToActiveTab","offsetLeft","handleKeyPress","tabsArrayInOrder","concat","newFocus","length","buttonToFocus","handleDisclosureActivatorClick","handleClose","handleMeasurement","measurements","hiddenTabWidths","handleListTabClick","setTimeout","scroll","scrollRefOffset","left","createViewA11yLabel","translate","tabsToShow","tabsMarkup","sort","tabA","tabB","filter","tabIndex","disclosureActivatorVisible","classname","fillSpace","wrapperClassNames","Wrapper","WrapperWithNewButton","disclosureTabClassName","DisclosureTab","disclosureButtonClassName","disclosureButtonContent","Fragment","as","variant","fontWeight","className","IconWrap","source","tone","disclosureButton","type","onClick","activator","disclosureTabs","tabMeasurer","newTab","actions","onFocus","icon","tabIndexOverride","panelMarkup","_tab","tabID","hidden","Outer","padding","md","ButtonWrapper","role","onBlur","onKeyDown","onKeyUp","preferredPosition","preferredAlignment","active","onClose","autofocusTarget","zIndexOverride","focusIndex","onKeyPress","NewTab","open","onClickPrimaryAction","hoverDelay"],"sources":["/Users/shannondutton/Documents/Code Projects/ProductCreator/node_modules/@shopify/polaris/build/esm/components/Tabs/Tabs.js"],"sourcesContent":["import React, { useRef, useReducer, useEffect, useCallback } from 'react';\nimport { ChevronDownIcon, PlusIcon } from '@shopify/polaris-icons';\nimport { classNames } from '../../utilities/css.js';\nimport { useBreakpoints } from '../../utilities/breakpoints.js';\nimport { usePrevious } from '../../utilities/use-previous.js';\nimport { getVisibleAndHiddenTabIndices } from './utilities.js';\nimport styles from './Tabs.css.js';\nimport { Tab } from './components/Tab/Tab.js';\nimport { Panel } from './components/Panel/Panel.js';\nimport { List } from './components/List/List.js';\nimport { CreateViewModal } from './components/CreateViewModal/CreateViewModal.js';\nimport { TabMeasurer } from './components/TabMeasurer/TabMeasurer.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Text } from '../Text/Text.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { UnstyledButton } from '../UnstyledButton/UnstyledButton.js';\nimport { Box } from '../Box/Box.js';\nimport { Popover } from '../Popover/Popover.js';\nimport { Tooltip } from '../Tooltip/Tooltip.js';\n\nconst CREATE_NEW_VIEW_ID = 'create-new-view';\nconst Tabs = ({\n  tabs,\n  children,\n  selected,\n  newViewAccessibilityLabel,\n  canCreateNewView,\n  disabled,\n  onCreateNewView,\n  onSelect,\n  fitted,\n  disclosureText,\n  disclosureZIndexOverride\n}) => {\n  const i18n = useI18n();\n  const {\n    mdDown\n  } = useBreakpoints();\n  const scrollRef = useRef(null);\n  const wrapRef = useRef(null);\n  const selectedTabRef = useRef(null);\n  const [state, setState] = useReducer((data, partialData) => {\n    return {\n      ...data,\n      ...partialData\n    };\n  }, {\n    disclosureWidth: 0,\n    containerWidth: Infinity,\n    tabWidths: [],\n    visibleTabs: [],\n    hiddenTabs: [],\n    showDisclosure: false,\n    tabToFocus: -1,\n    isNewViewModalActive: false,\n    modalSubmitted: false,\n    isTabsFocused: false,\n    isTabPopoverOpen: false,\n    isTabModalOpen: false\n  });\n  const {\n    tabToFocus,\n    visibleTabs,\n    hiddenTabs,\n    showDisclosure,\n    isNewViewModalActive,\n    modalSubmitted,\n    disclosureWidth,\n    tabWidths,\n    containerWidth,\n    isTabsFocused,\n    isTabModalOpen,\n    isTabPopoverOpen\n  } = state;\n  const prevModalOpen = usePrevious(isTabModalOpen);\n  const prevPopoverOpen = usePrevious(isTabPopoverOpen);\n  useEffect(() => {\n    const hasModalClosed = prevModalOpen && !isTabModalOpen;\n    const hasPopoverClosed = prevPopoverOpen && !isTabPopoverOpen;\n    if (hasModalClosed) {\n      setState({\n        isTabsFocused: true,\n        tabToFocus: selected\n      });\n    } else if (hasPopoverClosed && !isTabModalOpen) {\n      setState({\n        isTabsFocused: true,\n        tabToFocus: selected\n      });\n    }\n  }, [prevPopoverOpen, isTabPopoverOpen, prevModalOpen, isTabModalOpen, selected, tabToFocus]);\n  const handleTogglePopover = useCallback(isOpen => setState({\n    isTabPopoverOpen: isOpen\n  }), []);\n  const handleToggleModal = useCallback(isOpen => setState({\n    isTabModalOpen: isOpen\n  }), []);\n  const handleCloseNewViewModal = () => {\n    setState({\n      isNewViewModalActive: false\n    });\n  };\n  const handleSaveNewViewModal = async value => {\n    if (!onCreateNewView) {\n      return false;\n    }\n    const hasExecuted = await onCreateNewView?.(value);\n    if (hasExecuted) {\n      setState({\n        modalSubmitted: true\n      });\n    }\n    return hasExecuted;\n  };\n  const handleClickNewTab = () => {\n    setState({\n      isNewViewModalActive: true\n    });\n  };\n  const handleTabClick = useCallback(id => {\n    const tab = tabs.find(aTab => aTab.id === id);\n    if (tab == null) {\n      return null;\n    }\n    const selectedIndex = tabs.indexOf(tab);\n    onSelect?.(selectedIndex);\n  }, [tabs, onSelect]);\n  const renderTabMarkup = useCallback((tab, index) => {\n    const handleClick = () => {\n      handleTabClick(tab.id);\n      tab.onAction?.();\n    };\n    const viewNames = tabs.map(({\n      content\n    }) => content);\n    const tabPanelID = tab.panelID || `${tab.id}-panel`;\n    return /*#__PURE__*/React.createElement(Tab, Object.assign({}, tab, {\n      key: `${index}-${tab.id}`,\n      id: tab.id,\n      panelID: children ? tabPanelID : undefined,\n      disabled: disabled || tab.disabled,\n      siblingTabHasFocus: tabToFocus > -1,\n      focused: index === tabToFocus,\n      selected: index === selected,\n      onAction: handleClick,\n      accessibilityLabel: tab.accessibilityLabel,\n      url: tab.url,\n      content: tab.content,\n      onToggleModal: handleToggleModal,\n      onTogglePopover: handleTogglePopover,\n      viewNames: viewNames,\n      disclosureZIndexOverride: disclosureZIndexOverride,\n      ref: index === selected ? selectedTabRef : null\n    }));\n  }, [disabled, tabs, children, selected, tabToFocus, disclosureZIndexOverride, handleTabClick, handleToggleModal, handleTogglePopover]);\n  const handleFocus = useCallback(event => {\n    const target = event.target;\n    const isItem = target.classList.contains(styles.Item);\n    const isInNaturalDOMOrder = target.closest(`[data-tabs-focus-catchment]`) || isItem;\n    const isDisclosureActivator = target.classList.contains(styles.DisclosureActivator);\n    if (isDisclosureActivator || !isInNaturalDOMOrder) {\n      return;\n    }\n    setState({\n      isTabsFocused: true\n    });\n  }, []);\n  const handleBlur = useCallback(event => {\n    const target = event.target;\n    const relatedTarget = event.relatedTarget;\n    const isInNaturalDOMOrder = relatedTarget?.closest?.(`.${styles.Tabs}`);\n    const targetIsATab = target?.classList?.contains?.(styles.Tab);\n    const focusReceiverIsAnItem = relatedTarget?.classList.contains(styles.Item);\n    if (!relatedTarget && !isTabModalOpen && !targetIsATab && !focusReceiverIsAnItem) {\n      setState({\n        tabToFocus: -1\n      });\n      return;\n    }\n    if (!isInNaturalDOMOrder && !isTabModalOpen && !targetIsATab && !focusReceiverIsAnItem) {\n      setState({\n        tabToFocus: -1\n      });\n      return;\n    }\n    setState({\n      isTabsFocused: false\n    });\n  }, [isTabModalOpen]);\n  const handleKeyDown = event => {\n    if (isTabPopoverOpen || isTabModalOpen || isNewViewModalActive) {\n      return;\n    }\n    const {\n      key\n    } = event;\n    if (key === 'ArrowLeft' || key === 'ArrowRight') {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n  useEffect(() => {\n    const {\n      visibleTabs,\n      hiddenTabs\n    } = getVisibleAndHiddenTabIndices(tabs, selected, disclosureWidth, tabWidths, containerWidth);\n    setState({\n      visibleTabs,\n      hiddenTabs\n    });\n  }, [containerWidth, disclosureWidth, tabs, selected, tabWidths, setState]);\n  const moveToSelectedTab = useCallback(() => {\n    const activeButton = selectedTabRef.current?.querySelector(`.${styles['Tab-active']}`);\n    if (activeButton) {\n      moveToActiveTab(activeButton.offsetLeft);\n    }\n  }, []);\n  useEffect(() => {\n    if (mdDown) {\n      moveToSelectedTab();\n    }\n  }, [moveToSelectedTab, selected, mdDown]);\n  useEffect(() => {\n    if (isTabsFocused && !showDisclosure) {\n      const tabToFocus = selected;\n      setState({\n        tabToFocus\n      });\n    }\n  }, [isTabsFocused, selected, setState, showDisclosure]);\n  const handleKeyPress = event => {\n    const {\n      showDisclosure,\n      visibleTabs,\n      hiddenTabs,\n      tabToFocus,\n      isNewViewModalActive\n    } = state;\n    if (isTabModalOpen || isTabPopoverOpen || isNewViewModalActive) {\n      return;\n    }\n    const key = event.key;\n    const tabsArrayInOrder = showDisclosure || mdDown ? visibleTabs.concat(hiddenTabs) : [...visibleTabs];\n    let newFocus = tabsArrayInOrder.indexOf(tabToFocus);\n    if (key === 'ArrowRight') {\n      newFocus += 1;\n      if (newFocus === tabsArrayInOrder.length) {\n        newFocus = 0;\n      }\n    }\n    if (key === 'ArrowLeft') {\n      if (newFocus === -1 || newFocus === 0) {\n        newFocus = tabsArrayInOrder.length - 1;\n      } else {\n        newFocus -= 1;\n      }\n    }\n    const buttonToFocus = tabsArrayInOrder[newFocus];\n    if (buttonToFocus != null) {\n      setState({\n        tabToFocus: buttonToFocus\n      });\n    }\n  };\n  const handleDisclosureActivatorClick = () => {\n    setState({\n      showDisclosure: !showDisclosure,\n      tabToFocus: hiddenTabs[0]\n    });\n  };\n  const handleClose = () => {\n    setState({\n      showDisclosure: false\n    });\n  };\n  const handleMeasurement = useCallback(measurements => {\n    const {\n      hiddenTabWidths: tabWidths,\n      containerWidth,\n      disclosureWidth\n    } = measurements;\n    const {\n      visibleTabs,\n      hiddenTabs\n    } = getVisibleAndHiddenTabIndices(tabs, selected, disclosureWidth, tabWidths, containerWidth);\n    setState({\n      visibleTabs,\n      hiddenTabs,\n      disclosureWidth,\n      containerWidth,\n      tabWidths\n    });\n  }, [tabs, selected, setState]);\n  const handleListTabClick = id => {\n    handleTabClick(id);\n    handleClose();\n    setState({\n      isTabsFocused: true\n    });\n  };\n  const moveToActiveTab = offsetLeft => {\n    setTimeout(() => {\n      if (scrollRef.current && typeof scrollRef.current.scroll === 'function') {\n        const scrollRefOffset = wrapRef?.current?.offsetLeft || 0;\n        scrollRef?.current?.scroll({\n          left: offsetLeft - scrollRefOffset\n        });\n      }\n    }, 0);\n  };\n  const createViewA11yLabel = newViewAccessibilityLabel || i18n.translate('Polaris.Tabs.newViewAccessibilityLabel');\n  const tabsToShow = mdDown ? [...visibleTabs, ...hiddenTabs] : visibleTabs;\n  const tabsMarkup = tabsToShow.sort((tabA, tabB) => tabA - tabB).filter(tabIndex => tabs[tabIndex]).map(tabIndex => renderTabMarkup(tabs[tabIndex], tabIndex));\n  const disclosureActivatorVisible = visibleTabs.length < tabs.length && !mdDown;\n  const classname = classNames(styles.Tabs, fitted && styles.fitted, disclosureActivatorVisible && styles.fillSpace);\n  const wrapperClassNames = classNames(styles.Wrapper, canCreateNewView && styles.WrapperWithNewButton);\n  const disclosureTabClassName = classNames(styles.DisclosureTab, disclosureActivatorVisible && styles['DisclosureTab-visible']);\n  const disclosureButtonClassName = classNames(styles.DisclosureActivator);\n  const disclosureButtonContent = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Text, {\n    as: \"span\",\n    variant: \"bodySm\",\n    fontWeight: \"medium\"\n  }, disclosureText ?? i18n.translate('Polaris.Tabs.toggleTabsLabel')), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(styles.IconWrap, disclosureActivatorVisible && showDisclosure && styles['IconWrap-open'])\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: ChevronDownIcon,\n    tone: \"subdued\"\n  })));\n  const disclosureButton = /*#__PURE__*/React.createElement(UnstyledButton, {\n    type: \"button\",\n    className: disclosureButtonClassName,\n    onClick: handleDisclosureActivatorClick,\n    \"aria-label\": disclosureText ?? i18n.translate('Polaris.Tabs.toggleTabsLabel'),\n    disabled: disabled\n  }, disclosureButtonContent);\n  const activator = disclosureButton;\n  const disclosureTabs = hiddenTabs.map(tabIndex => tabs[tabIndex]);\n  const viewNames = tabs.map(({\n    content\n  }) => content);\n  const tabMeasurer = /*#__PURE__*/React.createElement(TabMeasurer, {\n    tabToFocus: tabToFocus,\n    activator: activator,\n    selected: selected,\n    tabs: tabs,\n    siblingTabHasFocus: tabToFocus > -1,\n    handleMeasurement: handleMeasurement\n  });\n  const newTab = /*#__PURE__*/React.createElement(Tab, {\n    id: CREATE_NEW_VIEW_ID,\n    content: createViewA11yLabel,\n    actions: [],\n    onAction: handleClickNewTab,\n    onFocus: () => {\n      if (modalSubmitted) {\n        setState({\n          tabToFocus: selected,\n          modalSubmitted: false\n        });\n      }\n    },\n    icon: /*#__PURE__*/React.createElement(Icon, {\n      source: PlusIcon,\n      accessibilityLabel: createViewA11yLabel\n    }),\n    disabled: disabled,\n    onTogglePopover: handleTogglePopover,\n    onToggleModal: handleToggleModal,\n    tabIndexOverride: 0\n  });\n  const panelMarkup = children ? tabs.map((_tab, index) => {\n    return selected === index ? /*#__PURE__*/React.createElement(Panel, {\n      id: tabs[index].panelID || `${tabs[index].id}-panel`,\n      tabID: tabs[index].id,\n      key: tabs[index].id\n    }, children) : /*#__PURE__*/React.createElement(Panel, {\n      id: tabs[index].panelID || `${tabs[index].id}-panel`,\n      tabID: tabs[index].id,\n      key: tabs[index].id,\n      hidden: true\n    });\n  }) : null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Outer\n  }, /*#__PURE__*/React.createElement(Box, {\n    padding: {\n      md: '200'\n    }\n  }, tabMeasurer, /*#__PURE__*/React.createElement(\"div\", {\n    className: wrapperClassNames,\n    ref: scrollRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ButtonWrapper,\n    ref: wrapRef\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    role: tabsMarkup.length > 0 ? 'tablist' : undefined,\n    className: classname,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyPress,\n    \"data-tabs-focus-catchment\": true\n  }, tabsMarkup, mdDown || tabsToShow.length === 0 ? null : /*#__PURE__*/React.createElement(\"li\", {\n    className: disclosureTabClassName,\n    role: \"presentation\"\n  }, /*#__PURE__*/React.createElement(Popover, {\n    preferredPosition: \"below\",\n    preferredAlignment: \"left\",\n    activator: activator,\n    active: disclosureActivatorVisible && showDisclosure,\n    onClose: handleClose,\n    autofocusTarget: \"first-node\",\n    zIndexOverride: disclosureZIndexOverride\n  }, /*#__PURE__*/React.createElement(List, {\n    focusIndex: hiddenTabs.indexOf(tabToFocus),\n    disclosureTabs: disclosureTabs,\n    onClick: handleListTabClick,\n    onKeyPress: handleKeyPress\n  })))), canCreateNewView && tabsToShow.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.NewTab\n  }, /*#__PURE__*/React.createElement(CreateViewModal, {\n    open: isNewViewModalActive,\n    onClose: handleCloseNewViewModal,\n    onClickPrimaryAction: handleSaveNewViewModal,\n    viewNames: viewNames,\n    activator: disabled ? newTab : /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Tooltip, {\n      content: i18n.translate('Polaris.Tabs.newViewTooltip'),\n      preferredPosition: \"above\",\n      hoverDelay: 400,\n      zIndexOverride: disclosureZIndexOverride\n    }, newTab))\n  })) : null))), panelMarkup);\n};\n\nexport { Tabs };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}