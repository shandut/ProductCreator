{"ast":null,"code":"import React, { useRef, useEffect } from 'react';\nimport { XSmallIcon, AlertCircleIcon } from '@shopify/polaris-icons';\nimport { classNames, variationName } from '../../../../utilities/css.js';\nimport { Key } from '../../../../types.js';\nimport styles from './Toast.css.js';\nimport { Icon } from '../../../Icon/Icon.js';\nimport { Button } from '../../../Button/Button.js';\nimport { KeypressListener } from '../../../KeypressListener/KeypressListener.js';\nimport { InlineStack } from '../../../InlineStack/InlineStack.js';\nimport { Text } from '../../../Text/Text.js';\nconst DEFAULT_TOAST_DURATION = 5000;\nconst DEFAULT_TOAST_DURATION_WITH_ACTION = 10000;\nfunction Toast({\n  content,\n  onDismiss,\n  duration,\n  error,\n  action,\n  tone,\n  onClick,\n  icon,\n  isHovered\n}) {\n  const defaultDurationWithoutAction = duration || DEFAULT_TOAST_DURATION;\n  const defaultDuration = action && !duration ? DEFAULT_TOAST_DURATION_WITH_ACTION : defaultDurationWithoutAction;\n  const durationRemaining = useRef(defaultDuration);\n  const timeoutStart = useRef(null);\n  const timer = useRef(null);\n  useEffect(() => {\n    function resume() {\n      timeoutStart.current = Date.now();\n      timer.current = setTimeout(() => {\n        onDismiss();\n      }, durationRemaining.current);\n    }\n    function pause() {\n      if (timeoutStart.current) {\n        durationRemaining.current -= Date.now() - timeoutStart.current;\n      }\n      if (timer.current) {\n        clearTimeout(timer.current);\n      }\n      timer.current = null;\n    }\n    if (isHovered) {\n      pause();\n    } else {\n      resume();\n    }\n    return () => {\n      if (timer.current) {\n        clearTimeout(timer.current);\n      }\n    };\n  }, [isHovered, onDismiss]);\n  useEffect(() => {\n    if (action && duration && duration < DEFAULT_TOAST_DURATION_WITH_ACTION) {\n      // eslint-disable-next-line no-console\n      console.log('Toast with action should persist for at least 10,000 milliseconds to give the merchant enough time to act on it.');\n    }\n  }, [action, duration]);\n  const dismissMarkup = /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: styles.CloseButton,\n    onClick: onDismiss\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: XSmallIcon,\n    tone: \"inherit\"\n  }));\n  const actionMarkup = action ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Action\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"monochromePlain\",\n    removeUnderline: true,\n    size: \"slim\",\n    onClick: action.onAction\n  }, action.content)) : null;\n  let leadingIconMarkup = null;\n  if (error) {\n    leadingIconMarkup = /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.LeadingIcon\n    }, /*#__PURE__*/React.createElement(Icon, {\n      source: AlertCircleIcon,\n      tone: \"inherit\"\n    }));\n  } else if (icon) {\n    leadingIconMarkup = /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.LeadingIcon\n    }, /*#__PURE__*/React.createElement(Icon, {\n      source: icon,\n      tone: \"inherit\"\n    }));\n  }\n  const className = classNames(styles.Toast, error && styles.error, tone && styles[variationName('tone', tone)]);\n  if (!action && onClick) {\n    return /*#__PURE__*/React.createElement(\"button\", {\n      \"aria-live\": \"assertive\",\n      className: classNames(className, styles.WithActionOnComponent),\n      type: \"button\",\n      onClick: onClick\n    }, /*#__PURE__*/React.createElement(KeypressListener, {\n      keyCode: Key.Escape,\n      handler: onDismiss\n    }), leadingIconMarkup, /*#__PURE__*/React.createElement(InlineStack, {\n      gap: \"400\",\n      blockAlign: \"center\"\n    }, /*#__PURE__*/React.createElement(Text, Object.assign({\n      as: \"span\",\n      variant: \"bodyMd\",\n      fontWeight: \"medium\"\n    }, tone === 'magic' && {\n      tone: 'magic'\n    }), content)));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    \"aria-live\": \"assertive\"\n  }, /*#__PURE__*/React.createElement(KeypressListener, {\n    keyCode: Key.Escape,\n    handler: onDismiss\n  }), leadingIconMarkup, /*#__PURE__*/React.createElement(InlineStack, {\n    gap: \"400\",\n    blockAlign: \"center\"\n  }, /*#__PURE__*/React.createElement(Text, Object.assign({\n    as: \"span\",\n    variant: \"bodyMd\",\n    fontWeight: \"medium\"\n  }, tone === 'magic' && {\n    tone: 'magic'\n  }), content)), actionMarkup, dismissMarkup);\n}\nexport { DEFAULT_TOAST_DURATION, DEFAULT_TOAST_DURATION_WITH_ACTION, Toast };","map":{"version":3,"names":["React","useRef","useEffect","XSmallIcon","AlertCircleIcon","classNames","variationName","Key","styles","Icon","Button","KeypressListener","InlineStack","Text","DEFAULT_TOAST_DURATION","DEFAULT_TOAST_DURATION_WITH_ACTION","Toast","content","onDismiss","duration","error","action","tone","onClick","icon","isHovered","defaultDurationWithoutAction","defaultDuration","durationRemaining","timeoutStart","timer","resume","current","Date","now","setTimeout","pause","clearTimeout","console","log","dismissMarkup","createElement","type","className","CloseButton","source","actionMarkup","Action","variant","removeUnderline","size","onAction","leadingIconMarkup","LeadingIcon","WithActionOnComponent","keyCode","Escape","handler","gap","blockAlign","Object","assign","as","fontWeight"],"sources":["/Users/shannondutton/Documents/Code Projects/ProductCreator/node_modules/@shopify/polaris/build/esm/components/Frame/components/Toast/Toast.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { XSmallIcon, AlertCircleIcon } from '@shopify/polaris-icons';\nimport { classNames, variationName } from '../../../../utilities/css.js';\nimport { Key } from '../../../../types.js';\nimport styles from './Toast.css.js';\nimport { Icon } from '../../../Icon/Icon.js';\nimport { Button } from '../../../Button/Button.js';\nimport { KeypressListener } from '../../../KeypressListener/KeypressListener.js';\nimport { InlineStack } from '../../../InlineStack/InlineStack.js';\nimport { Text } from '../../../Text/Text.js';\n\nconst DEFAULT_TOAST_DURATION = 5000;\nconst DEFAULT_TOAST_DURATION_WITH_ACTION = 10000;\nfunction Toast({\n  content,\n  onDismiss,\n  duration,\n  error,\n  action,\n  tone,\n  onClick,\n  icon,\n  isHovered\n}) {\n  const defaultDurationWithoutAction = duration || DEFAULT_TOAST_DURATION;\n  const defaultDuration = action && !duration ? DEFAULT_TOAST_DURATION_WITH_ACTION : defaultDurationWithoutAction;\n  const durationRemaining = useRef(defaultDuration);\n  const timeoutStart = useRef(null);\n  const timer = useRef(null);\n  useEffect(() => {\n    function resume() {\n      timeoutStart.current = Date.now();\n      timer.current = setTimeout(() => {\n        onDismiss();\n      }, durationRemaining.current);\n    }\n    function pause() {\n      if (timeoutStart.current) {\n        durationRemaining.current -= Date.now() - timeoutStart.current;\n      }\n      if (timer.current) {\n        clearTimeout(timer.current);\n      }\n      timer.current = null;\n    }\n    if (isHovered) {\n      pause();\n    } else {\n      resume();\n    }\n    return () => {\n      if (timer.current) {\n        clearTimeout(timer.current);\n      }\n    };\n  }, [isHovered, onDismiss]);\n  useEffect(() => {\n    if (action && duration && duration < DEFAULT_TOAST_DURATION_WITH_ACTION) {\n      // eslint-disable-next-line no-console\n      console.log('Toast with action should persist for at least 10,000 milliseconds to give the merchant enough time to act on it.');\n    }\n  }, [action, duration]);\n  const dismissMarkup = /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: styles.CloseButton,\n    onClick: onDismiss\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: XSmallIcon,\n    tone: \"inherit\"\n  }));\n  const actionMarkup = action ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Action\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"monochromePlain\",\n    removeUnderline: true,\n    size: \"slim\",\n    onClick: action.onAction\n  }, action.content)) : null;\n  let leadingIconMarkup = null;\n  if (error) {\n    leadingIconMarkup = /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.LeadingIcon\n    }, /*#__PURE__*/React.createElement(Icon, {\n      source: AlertCircleIcon,\n      tone: \"inherit\"\n    }));\n  } else if (icon) {\n    leadingIconMarkup = /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.LeadingIcon\n    }, /*#__PURE__*/React.createElement(Icon, {\n      source: icon,\n      tone: \"inherit\"\n    }));\n  }\n  const className = classNames(styles.Toast, error && styles.error, tone && styles[variationName('tone', tone)]);\n  if (!action && onClick) {\n    return /*#__PURE__*/React.createElement(\"button\", {\n      \"aria-live\": \"assertive\",\n      className: classNames(className, styles.WithActionOnComponent),\n      type: \"button\",\n      onClick: onClick\n    }, /*#__PURE__*/React.createElement(KeypressListener, {\n      keyCode: Key.Escape,\n      handler: onDismiss\n    }), leadingIconMarkup, /*#__PURE__*/React.createElement(InlineStack, {\n      gap: \"400\",\n      blockAlign: \"center\"\n    }, /*#__PURE__*/React.createElement(Text, Object.assign({\n      as: \"span\",\n      variant: \"bodyMd\",\n      fontWeight: \"medium\"\n    }, tone === 'magic' && {\n      tone: 'magic'\n    }), content)));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    \"aria-live\": \"assertive\"\n  }, /*#__PURE__*/React.createElement(KeypressListener, {\n    keyCode: Key.Escape,\n    handler: onDismiss\n  }), leadingIconMarkup, /*#__PURE__*/React.createElement(InlineStack, {\n    gap: \"400\",\n    blockAlign: \"center\"\n  }, /*#__PURE__*/React.createElement(Text, Object.assign({\n    as: \"span\",\n    variant: \"bodyMd\",\n    fontWeight: \"medium\"\n  }, tone === 'magic' && {\n    tone: 'magic'\n  }), content)), actionMarkup, dismissMarkup);\n}\n\nexport { DEFAULT_TOAST_DURATION, DEFAULT_TOAST_DURATION_WITH_ACTION, Toast };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}