{"ast":null,"code":"import { useState, useCallback } from 'react';\nlet SelectionType = /*#__PURE__*/function (SelectionType) {\n  SelectionType[\"All\"] = \"all\";\n  SelectionType[\"Page\"] = \"page\";\n  SelectionType[\"Multi\"] = \"multi\";\n  SelectionType[\"Single\"] = \"single\";\n  SelectionType[\"Range\"] = \"range\";\n  return SelectionType;\n}({});\nfunction defaultResourceIDResolver(resource) {\n  if ('id' in resource) {\n    return resource.id;\n  }\n  throw new Error('Your resource does not directly contain an `id`. Pass a `resourceIDResolver` to `useIndexResourceState`');\n}\nfunction useIndexResourceState(resources, {\n  selectedResources: initSelectedResources = [],\n  allResourcesSelected: initAllResourcesSelected = false,\n  resourceIDResolver = defaultResourceIDResolver,\n  resourceFilter = undefined\n} = {\n  selectedResources: [],\n  allResourcesSelected: false,\n  resourceIDResolver: defaultResourceIDResolver,\n  resourceFilter: undefined\n}) {\n  const [selectedResources, setSelectedResources] = useState(initSelectedResources);\n  const [allResourcesSelected, setAllResourcesSelected] = useState(initAllResourcesSelected);\n  const handleSelectionChange = useCallback((selectionType, isSelecting, selection, _position) => {\n    if (selectionType === SelectionType.All) {\n      setAllResourcesSelected(isSelecting);\n    } else if (allResourcesSelected) {\n      setAllResourcesSelected(false);\n    }\n    switch (selectionType) {\n      case SelectionType.Single:\n        setSelectedResources(newSelectedResources => isSelecting ? [...newSelectedResources, selection] : newSelectedResources.filter(id => id !== selection));\n        break;\n      case SelectionType.All:\n      case SelectionType.Page:\n        if (resourceFilter) {\n          const filteredResources = resources.filter(resourceFilter);\n          setSelectedResources(isSelecting && selectedResources.length < filteredResources.length ? filteredResources.map(resourceIDResolver) : []);\n        } else {\n          setSelectedResources(isSelecting ? resources.map(resourceIDResolver) : []);\n        }\n        break;\n      case SelectionType.Multi:\n        if (!selection) break;\n        setSelectedResources(currentSelectedResources => {\n          const ids = [];\n          const filteredResources = resourceFilter ? resources.filter(resourceFilter) : resources;\n          for (let i = selection[0]; i <= selection[1]; i++) {\n            if (filteredResources.includes(resources[i])) {\n              const id = resourceIDResolver(resources[i]);\n              if (isSelecting && !currentSelectedResources.includes(id) || !isSelecting && currentSelectedResources.includes(id)) {\n                ids.push(id);\n              }\n            }\n          }\n          return isSelecting ? [...currentSelectedResources, ...ids] : currentSelectedResources.filter(id => !ids.includes(id));\n        });\n        break;\n      case SelectionType.Range:\n        if (!selection) break;\n        setSelectedResources(currentSelectedResources => {\n          const filteredResources = resourceFilter ? resources.filter(resourceFilter) : resources;\n          const resourceIds = filteredResources.map(resourceIDResolver);\n          const selectedIds = resourceIds.slice(Number(selection[0]), Number(selection[1]) + 1);\n          const isIndeterminate = selectedIds.some(id => {\n            return selectedResources.includes(id);\n          });\n          const isChecked = selectedIds.every(id => {\n            return selectedResources.includes(id);\n          });\n          const isSelectingAllInRange = !isChecked && (isSelecting || isIndeterminate);\n          const nextSelectedResources = isSelectingAllInRange ? [...new Set([...currentSelectedResources, ...selectedIds]).values()] : currentSelectedResources.filter(id => !selectedIds.includes(id));\n          return nextSelectedResources;\n        });\n        break;\n    }\n  }, [allResourcesSelected, resourceFilter, selectedResources, resources, resourceIDResolver]);\n  const clearSelection = useCallback(() => {\n    setSelectedResources([]);\n    setAllResourcesSelected(false);\n  }, []);\n  const removeSelectedResources = useCallback(removeResources => {\n    const selectedResourcesCopy = [...selectedResources];\n    const newSelectedResources = selectedResourcesCopy.filter(resource => !removeResources.includes(resource));\n    setSelectedResources(newSelectedResources);\n    if (newSelectedResources.length === 0) {\n      setAllResourcesSelected(false);\n    }\n  }, [selectedResources]);\n  return {\n    selectedResources,\n    allResourcesSelected,\n    handleSelectionChange,\n    clearSelection,\n    removeSelectedResources\n  };\n}\nexport { SelectionType, useIndexResourceState };","map":{"version":3,"names":["useState","useCallback","SelectionType","defaultResourceIDResolver","resource","id","Error","useIndexResourceState","resources","selectedResources","initSelectedResources","allResourcesSelected","initAllResourcesSelected","resourceIDResolver","resourceFilter","undefined","setSelectedResources","setAllResourcesSelected","handleSelectionChange","selectionType","isSelecting","selection","_position","All","Single","newSelectedResources","filter","Page","filteredResources","length","map","Multi","currentSelectedResources","ids","i","includes","push","Range","resourceIds","selectedIds","slice","Number","isIndeterminate","some","isChecked","every","isSelectingAllInRange","nextSelectedResources","Set","values","clearSelection","removeSelectedResources","removeResources","selectedResourcesCopy"],"sources":["/Users/shannondutton/Documents/Code Projects/ProductCreator/node_modules/@shopify/polaris/build/esm/utilities/use-index-resource-state.js"],"sourcesContent":["import { useState, useCallback } from 'react';\n\nlet SelectionType = /*#__PURE__*/function (SelectionType) {\n  SelectionType[\"All\"] = \"all\";\n  SelectionType[\"Page\"] = \"page\";\n  SelectionType[\"Multi\"] = \"multi\";\n  SelectionType[\"Single\"] = \"single\";\n  SelectionType[\"Range\"] = \"range\";\n  return SelectionType;\n}({});\nfunction defaultResourceIDResolver(resource) {\n  if ('id' in resource) {\n    return resource.id;\n  }\n  throw new Error('Your resource does not directly contain an `id`. Pass a `resourceIDResolver` to `useIndexResourceState`');\n}\nfunction useIndexResourceState(resources, {\n  selectedResources: initSelectedResources = [],\n  allResourcesSelected: initAllResourcesSelected = false,\n  resourceIDResolver = defaultResourceIDResolver,\n  resourceFilter = undefined\n} = {\n  selectedResources: [],\n  allResourcesSelected: false,\n  resourceIDResolver: defaultResourceIDResolver,\n  resourceFilter: undefined\n}) {\n  const [selectedResources, setSelectedResources] = useState(initSelectedResources);\n  const [allResourcesSelected, setAllResourcesSelected] = useState(initAllResourcesSelected);\n  const handleSelectionChange = useCallback((selectionType, isSelecting, selection, _position) => {\n    if (selectionType === SelectionType.All) {\n      setAllResourcesSelected(isSelecting);\n    } else if (allResourcesSelected) {\n      setAllResourcesSelected(false);\n    }\n    switch (selectionType) {\n      case SelectionType.Single:\n        setSelectedResources(newSelectedResources => isSelecting ? [...newSelectedResources, selection] : newSelectedResources.filter(id => id !== selection));\n        break;\n      case SelectionType.All:\n      case SelectionType.Page:\n        if (resourceFilter) {\n          const filteredResources = resources.filter(resourceFilter);\n          setSelectedResources(isSelecting && selectedResources.length < filteredResources.length ? filteredResources.map(resourceIDResolver) : []);\n        } else {\n          setSelectedResources(isSelecting ? resources.map(resourceIDResolver) : []);\n        }\n        break;\n      case SelectionType.Multi:\n        if (!selection) break;\n        setSelectedResources(currentSelectedResources => {\n          const ids = [];\n          const filteredResources = resourceFilter ? resources.filter(resourceFilter) : resources;\n          for (let i = selection[0]; i <= selection[1]; i++) {\n            if (filteredResources.includes(resources[i])) {\n              const id = resourceIDResolver(resources[i]);\n              if (isSelecting && !currentSelectedResources.includes(id) || !isSelecting && currentSelectedResources.includes(id)) {\n                ids.push(id);\n              }\n            }\n          }\n          return isSelecting ? [...currentSelectedResources, ...ids] : currentSelectedResources.filter(id => !ids.includes(id));\n        });\n        break;\n      case SelectionType.Range:\n        if (!selection) break;\n        setSelectedResources(currentSelectedResources => {\n          const filteredResources = resourceFilter ? resources.filter(resourceFilter) : resources;\n          const resourceIds = filteredResources.map(resourceIDResolver);\n          const selectedIds = resourceIds.slice(Number(selection[0]), Number(selection[1]) + 1);\n          const isIndeterminate = selectedIds.some(id => {\n            return selectedResources.includes(id);\n          });\n          const isChecked = selectedIds.every(id => {\n            return selectedResources.includes(id);\n          });\n          const isSelectingAllInRange = !isChecked && (isSelecting || isIndeterminate);\n          const nextSelectedResources = isSelectingAllInRange ? [...new Set([...currentSelectedResources, ...selectedIds]).values()] : currentSelectedResources.filter(id => !selectedIds.includes(id));\n          return nextSelectedResources;\n        });\n        break;\n    }\n  }, [allResourcesSelected, resourceFilter, selectedResources, resources, resourceIDResolver]);\n  const clearSelection = useCallback(() => {\n    setSelectedResources([]);\n    setAllResourcesSelected(false);\n  }, []);\n  const removeSelectedResources = useCallback(removeResources => {\n    const selectedResourcesCopy = [...selectedResources];\n    const newSelectedResources = selectedResourcesCopy.filter(resource => !removeResources.includes(resource));\n    setSelectedResources(newSelectedResources);\n    if (newSelectedResources.length === 0) {\n      setAllResourcesSelected(false);\n    }\n  }, [selectedResources]);\n  return {\n    selectedResources,\n    allResourcesSelected,\n    handleSelectionChange,\n    clearSelection,\n    removeSelectedResources\n  };\n}\n\nexport { SelectionType, useIndexResourceState };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}