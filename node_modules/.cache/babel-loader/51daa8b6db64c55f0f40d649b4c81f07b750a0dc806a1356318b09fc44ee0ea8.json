{"ast":null,"code":"import React, { memo, useState, useRef, createRef } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { classNames } from '../../../../utilities/css.js';\nimport { useDeepEffect } from '../../../../utilities/use-deep-effect.js';\nimport { useDeepCallback } from '../../../../utilities/use-deep-callback.js';\nimport styles from './ToastManager.css.js';\nimport { Toast } from '../Toast/Toast.js';\nimport { Portal } from '../../../Portal/Portal.js';\nimport { EventListener } from '../../../EventListener/EventListener.js';\nconst ADDITIONAL_TOAST_BASE_MOVEMENT = 10;\nconst TOAST_TRANSITION_DELAY = 30;\n\n/**\n * Will calculate the vertical movement of the toast based on the index of the sequence. As toasts get further back\n * in the view, we want them to not move as much, to give the perception of perspective. This sequence will match this:\n * v(0) = 0\n * v(1) = 0\n * v(2) = 1 (increase of 1)\n * v(3) = 3 (increase of 2)\n * v(4) = 6 (increase of 3)\n * v(5) = 10 (increase of 4)\n * and so on...\n *\n * @param index The index of the sequence\n * @returns How many pixels we want to move the toast\n */\nfunction generateAdditionalVerticalMovement(index) {\n  const getAmountToRemove = idx => (idx - 1) * idx / 2;\n  return index * ADDITIONAL_TOAST_BASE_MOVEMENT - getAmountToRemove(index);\n}\nconst ToastManager = /*#__PURE__*/memo(function ToastManager({\n  toastMessages\n}) {\n  const toastNodes = [];\n  const [shouldExpand, setShouldExpand] = useState(false);\n  const isFullyExpanded = useRef(false);\n  const fullyExpandedTimeout = useRef(null);\n  const firstToast = useRef(null);\n  const updateToasts = useDeepCallback(() => {\n    const zeroIndexTotalMessages = toastMessages.length - 1;\n    toastMessages.forEach((_, index) => {\n      const reversedOrder = zeroIndexTotalMessages - index;\n      const currentToast = toastNodes[index];\n      if (!currentToast.current) return;\n      const toastHeight = currentToast.current.clientHeight;\n      const scale = shouldExpand ? 1 : 0.9 ** reversedOrder;\n      const additionalVerticalMovement = generateAdditionalVerticalMovement(reversedOrder);\n      const targetInPos = shouldExpand ? toastHeight + (toastHeight - 8) * reversedOrder : toastHeight + additionalVerticalMovement;\n      currentToast.current.style.setProperty('--pc-toast-manager-translate-y-in', `-${targetInPos}px`);\n      currentToast.current.style.setProperty('--pc-toast-manager-scale-in', `${scale}`);\n      currentToast.current.style.setProperty('--pc-toast-manager-blur-in', shouldExpand ? '0' : `${reversedOrder * 0.5}px`);\n      currentToast.current.style.setProperty('--pc-toast-manager-transition-delay-in', `${shouldExpand ? reversedOrder * TOAST_TRANSITION_DELAY : 0}ms`);\n      currentToast.current.style.setProperty('--pc-toast-manager-scale-out', `${reversedOrder === 0 ? 0.85 : scale ** 2}`);\n      currentToast.current.style.setProperty('--pc-toast-manager-translate-y-out', `${-targetInPos}px`);\n    });\n  }, [toastMessages, toastNodes, shouldExpand]);\n  useDeepEffect(() => {\n    updateToasts();\n    if (toastMessages.length === 0) {\n      setShouldExpand(false);\n    }\n    if (shouldExpand) {\n      fullyExpandedTimeout.current = setTimeout(() => {\n        isFullyExpanded.current = true;\n      }, toastMessages.length * TOAST_TRANSITION_DELAY + 400);\n    } else if (fullyExpandedTimeout.current) {\n      clearTimeout(fullyExpandedTimeout.current);\n      isFullyExpanded.current = false;\n    }\n  }, [toastMessages, shouldExpand]);\n  const toastsMarkup = toastMessages.map((toast, index) => {\n    const reverseOrderIndex = toastMessages.length - index - 1;\n    const toastNode = /*#__PURE__*/createRef();\n    toastNodes[index] = toastNode;\n    function handleMouseEnter() {\n      setShouldExpand(true);\n    }\n    function handleMouseEnterFirstToast() {\n      if (isFullyExpanded.current) {\n        setShouldExpand(false);\n      }\n    }\n    return /*#__PURE__*/React.createElement(CSSTransition, {\n      nodeRef: toastNodes[index],\n      key: toast.id,\n      timeout: {\n        enter: 0,\n        exit: 200\n      },\n      classNames: toastClasses\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: toastNode,\n      onMouseEnter: reverseOrderIndex > 0 ? handleMouseEnter : handleMouseEnterFirstToast\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: node => reverseOrderIndex === 0 ? firstToast.current = node : null\n    }, /*#__PURE__*/React.createElement(Toast, Object.assign({}, toast, {\n      isHovered: shouldExpand\n    })))));\n  });\n  return /*#__PURE__*/React.createElement(Portal, {\n    idPrefix: \"toast\"\n  }, /*#__PURE__*/React.createElement(EventListener, {\n    event: \"resize\",\n    handler: updateToasts\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ToastManager,\n    \"aria-live\": \"assertive\",\n    onMouseEnter: function (event) {\n      const target = event.target;\n      const isInFirstToast = firstToast.current?.contains(target);\n      setShouldExpand(!isInFirstToast);\n    },\n    onMouseLeave: function () {\n      setShouldExpand(false);\n    }\n  }, /*#__PURE__*/React.createElement(TransitionGroup, {\n    component: null\n  }, toastsMarkup)));\n});\nconst toastClasses = {\n  enter: classNames(styles.ToastWrapper, styles['ToastWrapper-enter']),\n  enterDone: classNames(styles.ToastWrapper, styles['ToastWrapper-enter-done']),\n  exit: classNames(styles.ToastWrapper, styles['ToastWrapper-exit'])\n};\nexport { ToastManager };","map":{"version":3,"names":["React","memo","useState","useRef","createRef","CSSTransition","TransitionGroup","classNames","useDeepEffect","useDeepCallback","styles","Toast","Portal","EventListener","ADDITIONAL_TOAST_BASE_MOVEMENT","TOAST_TRANSITION_DELAY","generateAdditionalVerticalMovement","index","getAmountToRemove","idx","ToastManager","toastMessages","toastNodes","shouldExpand","setShouldExpand","isFullyExpanded","fullyExpandedTimeout","firstToast","updateToasts","zeroIndexTotalMessages","length","forEach","_","reversedOrder","currentToast","current","toastHeight","clientHeight","scale","additionalVerticalMovement","targetInPos","style","setProperty","setTimeout","clearTimeout","toastsMarkup","map","toast","reverseOrderIndex","toastNode","handleMouseEnter","handleMouseEnterFirstToast","createElement","nodeRef","key","id","timeout","enter","exit","toastClasses","ref","onMouseEnter","node","Object","assign","isHovered","idPrefix","event","handler","className","target","isInFirstToast","contains","onMouseLeave","component","ToastWrapper","enterDone"],"sources":["/Users/shannondutton/Documents/Code Projects/ProductCreator/node_modules/@shopify/polaris/build/esm/components/Frame/components/ToastManager/ToastManager.js"],"sourcesContent":["import React, { memo, useState, useRef, createRef } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { classNames } from '../../../../utilities/css.js';\nimport { useDeepEffect } from '../../../../utilities/use-deep-effect.js';\nimport { useDeepCallback } from '../../../../utilities/use-deep-callback.js';\nimport styles from './ToastManager.css.js';\nimport { Toast } from '../Toast/Toast.js';\nimport { Portal } from '../../../Portal/Portal.js';\nimport { EventListener } from '../../../EventListener/EventListener.js';\n\nconst ADDITIONAL_TOAST_BASE_MOVEMENT = 10;\nconst TOAST_TRANSITION_DELAY = 30;\n\n/**\n * Will calculate the vertical movement of the toast based on the index of the sequence. As toasts get further back\n * in the view, we want them to not move as much, to give the perception of perspective. This sequence will match this:\n * v(0) = 0\n * v(1) = 0\n * v(2) = 1 (increase of 1)\n * v(3) = 3 (increase of 2)\n * v(4) = 6 (increase of 3)\n * v(5) = 10 (increase of 4)\n * and so on...\n *\n * @param index The index of the sequence\n * @returns How many pixels we want to move the toast\n */\nfunction generateAdditionalVerticalMovement(index) {\n  const getAmountToRemove = idx => (idx - 1) * idx / 2;\n  return index * ADDITIONAL_TOAST_BASE_MOVEMENT - getAmountToRemove(index);\n}\nconst ToastManager = /*#__PURE__*/memo(function ToastManager({\n  toastMessages\n}) {\n  const toastNodes = [];\n  const [shouldExpand, setShouldExpand] = useState(false);\n  const isFullyExpanded = useRef(false);\n  const fullyExpandedTimeout = useRef(null);\n  const firstToast = useRef(null);\n  const updateToasts = useDeepCallback(() => {\n    const zeroIndexTotalMessages = toastMessages.length - 1;\n    toastMessages.forEach((_, index) => {\n      const reversedOrder = zeroIndexTotalMessages - index;\n      const currentToast = toastNodes[index];\n      if (!currentToast.current) return;\n      const toastHeight = currentToast.current.clientHeight;\n      const scale = shouldExpand ? 1 : 0.9 ** reversedOrder;\n      const additionalVerticalMovement = generateAdditionalVerticalMovement(reversedOrder);\n      const targetInPos = shouldExpand ? toastHeight + (toastHeight - 8) * reversedOrder : toastHeight + additionalVerticalMovement;\n      currentToast.current.style.setProperty('--pc-toast-manager-translate-y-in', `-${targetInPos}px`);\n      currentToast.current.style.setProperty('--pc-toast-manager-scale-in', `${scale}`);\n      currentToast.current.style.setProperty('--pc-toast-manager-blur-in', shouldExpand ? '0' : `${reversedOrder * 0.5}px`);\n      currentToast.current.style.setProperty('--pc-toast-manager-transition-delay-in', `${shouldExpand ? reversedOrder * TOAST_TRANSITION_DELAY : 0}ms`);\n      currentToast.current.style.setProperty('--pc-toast-manager-scale-out', `${reversedOrder === 0 ? 0.85 : scale ** 2}`);\n      currentToast.current.style.setProperty('--pc-toast-manager-translate-y-out', `${-targetInPos}px`);\n    });\n  }, [toastMessages, toastNodes, shouldExpand]);\n  useDeepEffect(() => {\n    updateToasts();\n    if (toastMessages.length === 0) {\n      setShouldExpand(false);\n    }\n    if (shouldExpand) {\n      fullyExpandedTimeout.current = setTimeout(() => {\n        isFullyExpanded.current = true;\n      }, toastMessages.length * TOAST_TRANSITION_DELAY + 400);\n    } else if (fullyExpandedTimeout.current) {\n      clearTimeout(fullyExpandedTimeout.current);\n      isFullyExpanded.current = false;\n    }\n  }, [toastMessages, shouldExpand]);\n  const toastsMarkup = toastMessages.map((toast, index) => {\n    const reverseOrderIndex = toastMessages.length - index - 1;\n    const toastNode = /*#__PURE__*/createRef();\n    toastNodes[index] = toastNode;\n    function handleMouseEnter() {\n      setShouldExpand(true);\n    }\n    function handleMouseEnterFirstToast() {\n      if (isFullyExpanded.current) {\n        setShouldExpand(false);\n      }\n    }\n    return /*#__PURE__*/React.createElement(CSSTransition, {\n      nodeRef: toastNodes[index],\n      key: toast.id,\n      timeout: {\n        enter: 0,\n        exit: 200\n      },\n      classNames: toastClasses\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: toastNode,\n      onMouseEnter: reverseOrderIndex > 0 ? handleMouseEnter : handleMouseEnterFirstToast\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: node => reverseOrderIndex === 0 ? firstToast.current = node : null\n    }, /*#__PURE__*/React.createElement(Toast, Object.assign({}, toast, {\n      isHovered: shouldExpand\n    })))));\n  });\n  return /*#__PURE__*/React.createElement(Portal, {\n    idPrefix: \"toast\"\n  }, /*#__PURE__*/React.createElement(EventListener, {\n    event: \"resize\",\n    handler: updateToasts\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ToastManager,\n    \"aria-live\": \"assertive\",\n    onMouseEnter: function (event) {\n      const target = event.target;\n      const isInFirstToast = firstToast.current?.contains(target);\n      setShouldExpand(!isInFirstToast);\n    },\n    onMouseLeave: function () {\n      setShouldExpand(false);\n    }\n  }, /*#__PURE__*/React.createElement(TransitionGroup, {\n    component: null\n  }, toastsMarkup)));\n});\nconst toastClasses = {\n  enter: classNames(styles.ToastWrapper, styles['ToastWrapper-enter']),\n  enterDone: classNames(styles.ToastWrapper, styles['ToastWrapper-enter-done']),\n  exit: classNames(styles.ToastWrapper, styles['ToastWrapper-exit'])\n};\n\nexport { ToastManager };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}