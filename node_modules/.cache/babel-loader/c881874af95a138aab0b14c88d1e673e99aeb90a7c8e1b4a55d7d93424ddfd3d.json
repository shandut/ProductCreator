{"ast":null,"code":"import { useContext, useRef, useCallback } from 'react';\nimport { SELECT_ALL_ITEMS, SelectionType } from './types.js';\nimport { IndexSelectionChangeContext, IndexRowContext, IndexContext } from './context.js';\nimport { useI18n } from '../i18n/hooks.js';\nfunction useIndexSelectionChange() {\n  const onSelectionChange = useContext(IndexSelectionChangeContext);\n  if (!onSelectionChange) {\n    throw new Error(`Missing IndexProvider context`);\n  }\n  return onSelectionChange;\n}\nfunction useIndexRow() {\n  const indexRow = useContext(IndexRowContext);\n  if (!indexRow) {\n    throw new Error(`Missing IndexProvider context`);\n  }\n  return indexRow;\n}\nfunction useIndexValue() {\n  const index = useContext(IndexContext);\n  if (!index) {\n    throw new Error(`Missing IndexProvider context`);\n  }\n  return index;\n}\nfunction useBulkSelectionData({\n  selectedItemsCount,\n  itemCount,\n  hasMoreItems,\n  resourceName: passedResourceName,\n  defaultPaginatedSelectAllText\n}) {\n  const i18n = useI18n();\n  const selectable = Boolean(selectedItemsCount);\n  const selectMode = selectedItemsCount === 'All' || selectedItemsCount > 0;\n  const defaultResourceName = {\n    singular: i18n.translate('Polaris.IndexProvider.defaultItemSingular'),\n    plural: i18n.translate('Polaris.IndexProvider.defaultItemPlural')\n  };\n  const resourceName = passedResourceName ? passedResourceName : defaultResourceName;\n  const paginatedSelectAllText = getPaginatedSelectAllText();\n  const bulkActionsLabel = getBulkActionsLabel();\n  const bulkActionsAccessibilityLabel = getBulkActionsAccessibilityLabel();\n  let bulkSelectState = 'indeterminate';\n  if (!selectedItemsCount || selectedItemsCount === 0) {\n    bulkSelectState = undefined;\n  } else if (selectedItemsCount === SELECT_ALL_ITEMS || selectedItemsCount === itemCount) {\n    bulkSelectState = true;\n  }\n  return {\n    paginatedSelectAllText,\n    bulkActionsLabel,\n    bulkActionsAccessibilityLabel,\n    resourceName,\n    selectMode,\n    bulkSelectState,\n    selectable\n  };\n  function getPaginatedSelectAllText() {\n    if (!selectable || !hasMoreItems) {\n      return;\n    }\n    if (selectedItemsCount === SELECT_ALL_ITEMS) {\n      if (defaultPaginatedSelectAllText) {\n        return defaultPaginatedSelectAllText;\n      }\n      return i18n.translate('Polaris.IndexProvider.allItemsSelected', {\n        itemsLength: itemCount,\n        resourceNamePlural: resourceName.plural.toLocaleLowerCase()\n      });\n    }\n  }\n  function getBulkActionsLabel() {\n    const selectedItemsCountLabel = selectedItemsCount === SELECT_ALL_ITEMS ? `${itemCount}+` : selectedItemsCount;\n    return i18n.translate('Polaris.IndexProvider.selected', {\n      selectedItemsCount: selectedItemsCountLabel\n    });\n  }\n  function getBulkActionsAccessibilityLabel() {\n    const totalItemsCount = itemCount;\n    const allSelected = selectedItemsCount === totalItemsCount;\n    if (totalItemsCount === 1 && allSelected) {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxDeselectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (totalItemsCount === 1) {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxSelectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (allSelected) {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxDeselectAllMultiple', {\n        itemsLength: itemCount,\n        resourceNamePlural: resourceName.plural\n      });\n    } else {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxSelectAllMultiple', {\n        itemsLength: itemCount,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  }\n}\nfunction useHandleBulkSelection({\n  onSelectionChange = () => {}\n}) {\n  const lastSelected = useRef(null);\n  const handleSelectionChange = useCallback((selectionType, toggleType, selection, sortOrder) => {\n    const prevSelected = lastSelected.current;\n    if (SelectionType.Multi && typeof sortOrder === 'number') {\n      lastSelected.current = sortOrder;\n    }\n    if (selectionType === SelectionType.Single || selectionType === SelectionType.Multi && (typeof prevSelected !== 'number' || typeof sortOrder !== 'number')) {\n      onSelectionChange(SelectionType.Single, toggleType, selection);\n    } else if (selectionType === SelectionType.Multi) {\n      const min = Math.min(prevSelected, sortOrder);\n      const max = Math.max(prevSelected, sortOrder);\n      onSelectionChange(selectionType, toggleType, [min, max]);\n    } else if (selectionType === SelectionType.Page || selectionType === SelectionType.All) {\n      onSelectionChange(selectionType, toggleType);\n    } else if (selectionType === SelectionType.Range) {\n      onSelectionChange(SelectionType.Range, toggleType, selection);\n    }\n  }, [onSelectionChange]);\n  return handleSelectionChange;\n}\nexport { useBulkSelectionData, useHandleBulkSelection, useIndexRow, useIndexSelectionChange, useIndexValue };","map":{"version":3,"names":["useContext","useRef","useCallback","SELECT_ALL_ITEMS","SelectionType","IndexSelectionChangeContext","IndexRowContext","IndexContext","useI18n","useIndexSelectionChange","onSelectionChange","Error","useIndexRow","indexRow","useIndexValue","index","useBulkSelectionData","selectedItemsCount","itemCount","hasMoreItems","resourceName","passedResourceName","defaultPaginatedSelectAllText","i18n","selectable","Boolean","selectMode","defaultResourceName","singular","translate","plural","paginatedSelectAllText","getPaginatedSelectAllText","bulkActionsLabel","getBulkActionsLabel","bulkActionsAccessibilityLabel","getBulkActionsAccessibilityLabel","bulkSelectState","undefined","itemsLength","resourceNamePlural","toLocaleLowerCase","selectedItemsCountLabel","totalItemsCount","allSelected","resourceNameSingular","useHandleBulkSelection","lastSelected","handleSelectionChange","selectionType","toggleType","selection","sortOrder","prevSelected","current","Multi","Single","min","Math","max","Page","All","Range"],"sources":["/Users/shannondutton/Documents/Code Projects/ProductCreator/node_modules/@shopify/polaris/build/esm/utilities/index-provider/hooks.js"],"sourcesContent":["import { useContext, useRef, useCallback } from 'react';\nimport { SELECT_ALL_ITEMS, SelectionType } from './types.js';\nimport { IndexSelectionChangeContext, IndexRowContext, IndexContext } from './context.js';\nimport { useI18n } from '../i18n/hooks.js';\n\nfunction useIndexSelectionChange() {\n  const onSelectionChange = useContext(IndexSelectionChangeContext);\n  if (!onSelectionChange) {\n    throw new Error(`Missing IndexProvider context`);\n  }\n  return onSelectionChange;\n}\nfunction useIndexRow() {\n  const indexRow = useContext(IndexRowContext);\n  if (!indexRow) {\n    throw new Error(`Missing IndexProvider context`);\n  }\n  return indexRow;\n}\nfunction useIndexValue() {\n  const index = useContext(IndexContext);\n  if (!index) {\n    throw new Error(`Missing IndexProvider context`);\n  }\n  return index;\n}\nfunction useBulkSelectionData({\n  selectedItemsCount,\n  itemCount,\n  hasMoreItems,\n  resourceName: passedResourceName,\n  defaultPaginatedSelectAllText\n}) {\n  const i18n = useI18n();\n  const selectable = Boolean(selectedItemsCount);\n  const selectMode = selectedItemsCount === 'All' || selectedItemsCount > 0;\n  const defaultResourceName = {\n    singular: i18n.translate('Polaris.IndexProvider.defaultItemSingular'),\n    plural: i18n.translate('Polaris.IndexProvider.defaultItemPlural')\n  };\n  const resourceName = passedResourceName ? passedResourceName : defaultResourceName;\n  const paginatedSelectAllText = getPaginatedSelectAllText();\n  const bulkActionsLabel = getBulkActionsLabel();\n  const bulkActionsAccessibilityLabel = getBulkActionsAccessibilityLabel();\n  let bulkSelectState = 'indeterminate';\n  if (!selectedItemsCount || selectedItemsCount === 0) {\n    bulkSelectState = undefined;\n  } else if (selectedItemsCount === SELECT_ALL_ITEMS || selectedItemsCount === itemCount) {\n    bulkSelectState = true;\n  }\n  return {\n    paginatedSelectAllText,\n    bulkActionsLabel,\n    bulkActionsAccessibilityLabel,\n    resourceName,\n    selectMode,\n    bulkSelectState,\n    selectable\n  };\n  function getPaginatedSelectAllText() {\n    if (!selectable || !hasMoreItems) {\n      return;\n    }\n    if (selectedItemsCount === SELECT_ALL_ITEMS) {\n      if (defaultPaginatedSelectAllText) {\n        return defaultPaginatedSelectAllText;\n      }\n      return i18n.translate('Polaris.IndexProvider.allItemsSelected', {\n        itemsLength: itemCount,\n        resourceNamePlural: resourceName.plural.toLocaleLowerCase()\n      });\n    }\n  }\n  function getBulkActionsLabel() {\n    const selectedItemsCountLabel = selectedItemsCount === SELECT_ALL_ITEMS ? `${itemCount}+` : selectedItemsCount;\n    return i18n.translate('Polaris.IndexProvider.selected', {\n      selectedItemsCount: selectedItemsCountLabel\n    });\n  }\n  function getBulkActionsAccessibilityLabel() {\n    const totalItemsCount = itemCount;\n    const allSelected = selectedItemsCount === totalItemsCount;\n    if (totalItemsCount === 1 && allSelected) {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxDeselectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (totalItemsCount === 1) {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxSelectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (allSelected) {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxDeselectAllMultiple', {\n        itemsLength: itemCount,\n        resourceNamePlural: resourceName.plural\n      });\n    } else {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxSelectAllMultiple', {\n        itemsLength: itemCount,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  }\n}\nfunction useHandleBulkSelection({\n  onSelectionChange = () => {}\n}) {\n  const lastSelected = useRef(null);\n  const handleSelectionChange = useCallback((selectionType, toggleType, selection, sortOrder) => {\n    const prevSelected = lastSelected.current;\n    if (SelectionType.Multi && typeof sortOrder === 'number') {\n      lastSelected.current = sortOrder;\n    }\n    if (selectionType === SelectionType.Single || selectionType === SelectionType.Multi && (typeof prevSelected !== 'number' || typeof sortOrder !== 'number')) {\n      onSelectionChange(SelectionType.Single, toggleType, selection);\n    } else if (selectionType === SelectionType.Multi) {\n      const min = Math.min(prevSelected, sortOrder);\n      const max = Math.max(prevSelected, sortOrder);\n      onSelectionChange(selectionType, toggleType, [min, max]);\n    } else if (selectionType === SelectionType.Page || selectionType === SelectionType.All) {\n      onSelectionChange(selectionType, toggleType);\n    } else if (selectionType === SelectionType.Range) {\n      onSelectionChange(SelectionType.Range, toggleType, selection);\n    }\n  }, [onSelectionChange]);\n  return handleSelectionChange;\n}\n\nexport { useBulkSelectionData, useHandleBulkSelection, useIndexRow, useIndexSelectionChange, useIndexValue };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}