{"ast":null,"code":"import React, { useContext, useRef, useState, useMemo } from 'react';\nimport { SearchIcon } from '@shopify/polaris-icons';\nimport { Key } from '../../types.js';\nimport { wrapFocusPreviousFocusableMenuItem, wrapFocusNextFocusableMenuItem } from '../../utilities/focus.js';\nimport { FilterActionsContext } from '../FilterActionsProvider/FilterActionsProvider.js';\nimport { Section } from './components/Section/Section.js';\nimport { KeypressListener } from '../KeypressListener/KeypressListener.js';\nimport { TextField } from '../TextField/TextField.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Box } from '../Box/Box.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { Item } from './components/Item/Item.js';\nconst FILTER_ACTIONS_THRESHOLD = 8;\nfunction ActionList({\n  items,\n  sections = [],\n  actionRole,\n  allowFiltering,\n  onActionAnyItem,\n  filterLabel\n}) {\n  const i18n = useI18n();\n  const filterActions = useContext(FilterActionsContext);\n  let finalSections = [];\n  const actionListRef = useRef(null);\n  const [searchText, setSearchText] = useState('');\n  if (items) {\n    finalSections = [{\n      items\n    }, ...sections];\n  } else if (sections) {\n    finalSections = sections;\n  }\n  const isFilterable = finalSections?.some(section => section.items.some(item => typeof item.content === 'string'));\n  const hasMultipleSections = finalSections.length > 1;\n  const elementRole = hasMultipleSections && actionRole === 'menuitem' ? 'menu' : undefined;\n  const elementTabIndex = hasMultipleSections && actionRole === 'menuitem' ? -1 : undefined;\n  const filteredSections = finalSections?.map(section => ({\n    ...section,\n    items: section.items.filter(({\n      content\n    }) => typeof content === 'string' ? content?.toLowerCase().includes(searchText.toLowerCase()) : content)\n  }));\n  const sectionMarkup = filteredSections.map((section, index) => {\n    return section.items.length > 0 ? /*#__PURE__*/React.createElement(Section, {\n      key: typeof section.title === 'string' ? section.title : index,\n      section: section,\n      hasMultipleSections: hasMultipleSections,\n      actionRole: actionRole,\n      onActionAnyItem: onActionAnyItem,\n      isFirst: index === 0\n    }) : null;\n  });\n  const handleFocusPreviousItem = evt => {\n    evt.preventDefault();\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusPreviousFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n  const handleFocusNextItem = evt => {\n    evt.preventDefault();\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusNextFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n  const listeners = actionRole === 'menuitem' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.DownArrow,\n    handler: handleFocusNextItem\n  }), /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.UpArrow,\n    handler: handleFocusPreviousItem\n  })) : null;\n  const totalFilteredActions = useMemo(() => {\n    const totalSectionItems = filteredSections?.reduce((acc, section) => acc + section.items.length, 0) || 0;\n    return totalSectionItems;\n  }, [filteredSections]);\n  const totalActions = finalSections?.reduce((acc, section) => acc + section.items.length, 0) || 0;\n  const hasManyActions = totalActions >= FILTER_ACTIONS_THRESHOLD;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, (allowFiltering || filterActions) && hasManyActions && isFilterable && /*#__PURE__*/React.createElement(Box, {\n    padding: \"200\",\n    paddingBlockEnd: totalFilteredActions > 0 ? '0' : '200'\n  }, /*#__PURE__*/React.createElement(TextField, {\n    clearButton: true,\n    labelHidden: true,\n    label: filterLabel ? filterLabel : i18n.translate('Polaris.ActionList.SearchField.placeholder'),\n    placeholder: filterLabel ? filterLabel : i18n.translate('Polaris.ActionList.SearchField.placeholder'),\n    autoComplete: \"off\",\n    value: searchText,\n    onChange: value => setSearchText(value),\n    prefix: /*#__PURE__*/React.createElement(Icon, {\n      source: SearchIcon\n    }),\n    onClearButtonClick: () => setSearchText('')\n  })), /*#__PURE__*/React.createElement(Box, {\n    as: hasMultipleSections ? 'ul' : 'div',\n    ref: actionListRef,\n    role: elementRole,\n    tabIndex: elementTabIndex\n  }, listeners, sectionMarkup));\n}\nActionList.Item = Item;\nexport { ActionList };","map":{"version":3,"names":["React","useContext","useRef","useState","useMemo","SearchIcon","Key","wrapFocusPreviousFocusableMenuItem","wrapFocusNextFocusableMenuItem","FilterActionsContext","Section","KeypressListener","TextField","useI18n","Box","Icon","Item","FILTER_ACTIONS_THRESHOLD","ActionList","items","sections","actionRole","allowFiltering","onActionAnyItem","filterLabel","i18n","filterActions","finalSections","actionListRef","searchText","setSearchText","isFilterable","some","section","item","content","hasMultipleSections","length","elementRole","undefined","elementTabIndex","filteredSections","map","filter","toLowerCase","includes","sectionMarkup","index","createElement","key","title","isFirst","handleFocusPreviousItem","evt","preventDefault","current","target","contains","handleFocusNextItem","listeners","Fragment","keyEvent","keyCode","DownArrow","handler","UpArrow","totalFilteredActions","totalSectionItems","reduce","acc","totalActions","hasManyActions","padding","paddingBlockEnd","clearButton","labelHidden","label","translate","placeholder","autoComplete","value","onChange","prefix","source","onClearButtonClick","as","ref","role","tabIndex"],"sources":["/Users/shannondutton/Documents/Code Projects/ProductCreator/node_modules/@shopify/polaris/build/esm/components/ActionList/ActionList.js"],"sourcesContent":["import React, { useContext, useRef, useState, useMemo } from 'react';\nimport { SearchIcon } from '@shopify/polaris-icons';\nimport { Key } from '../../types.js';\nimport { wrapFocusPreviousFocusableMenuItem, wrapFocusNextFocusableMenuItem } from '../../utilities/focus.js';\nimport { FilterActionsContext } from '../FilterActionsProvider/FilterActionsProvider.js';\nimport { Section } from './components/Section/Section.js';\nimport { KeypressListener } from '../KeypressListener/KeypressListener.js';\nimport { TextField } from '../TextField/TextField.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Box } from '../Box/Box.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { Item } from './components/Item/Item.js';\n\nconst FILTER_ACTIONS_THRESHOLD = 8;\nfunction ActionList({\n  items,\n  sections = [],\n  actionRole,\n  allowFiltering,\n  onActionAnyItem,\n  filterLabel\n}) {\n  const i18n = useI18n();\n  const filterActions = useContext(FilterActionsContext);\n  let finalSections = [];\n  const actionListRef = useRef(null);\n  const [searchText, setSearchText] = useState('');\n  if (items) {\n    finalSections = [{\n      items\n    }, ...sections];\n  } else if (sections) {\n    finalSections = sections;\n  }\n  const isFilterable = finalSections?.some(section => section.items.some(item => typeof item.content === 'string'));\n  const hasMultipleSections = finalSections.length > 1;\n  const elementRole = hasMultipleSections && actionRole === 'menuitem' ? 'menu' : undefined;\n  const elementTabIndex = hasMultipleSections && actionRole === 'menuitem' ? -1 : undefined;\n  const filteredSections = finalSections?.map(section => ({\n    ...section,\n    items: section.items.filter(({\n      content\n    }) => typeof content === 'string' ? content?.toLowerCase().includes(searchText.toLowerCase()) : content)\n  }));\n  const sectionMarkup = filteredSections.map((section, index) => {\n    return section.items.length > 0 ? /*#__PURE__*/React.createElement(Section, {\n      key: typeof section.title === 'string' ? section.title : index,\n      section: section,\n      hasMultipleSections: hasMultipleSections,\n      actionRole: actionRole,\n      onActionAnyItem: onActionAnyItem,\n      isFirst: index === 0\n    }) : null;\n  });\n  const handleFocusPreviousItem = evt => {\n    evt.preventDefault();\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusPreviousFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n  const handleFocusNextItem = evt => {\n    evt.preventDefault();\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusNextFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n  const listeners = actionRole === 'menuitem' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.DownArrow,\n    handler: handleFocusNextItem\n  }), /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.UpArrow,\n    handler: handleFocusPreviousItem\n  })) : null;\n  const totalFilteredActions = useMemo(() => {\n    const totalSectionItems = filteredSections?.reduce((acc, section) => acc + section.items.length, 0) || 0;\n    return totalSectionItems;\n  }, [filteredSections]);\n  const totalActions = finalSections?.reduce((acc, section) => acc + section.items.length, 0) || 0;\n  const hasManyActions = totalActions >= FILTER_ACTIONS_THRESHOLD;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, (allowFiltering || filterActions) && hasManyActions && isFilterable && /*#__PURE__*/React.createElement(Box, {\n    padding: \"200\",\n    paddingBlockEnd: totalFilteredActions > 0 ? '0' : '200'\n  }, /*#__PURE__*/React.createElement(TextField, {\n    clearButton: true,\n    labelHidden: true,\n    label: filterLabel ? filterLabel : i18n.translate('Polaris.ActionList.SearchField.placeholder'),\n    placeholder: filterLabel ? filterLabel : i18n.translate('Polaris.ActionList.SearchField.placeholder'),\n    autoComplete: \"off\",\n    value: searchText,\n    onChange: value => setSearchText(value),\n    prefix: /*#__PURE__*/React.createElement(Icon, {\n      source: SearchIcon\n    }),\n    onClearButtonClick: () => setSearchText('')\n  })), /*#__PURE__*/React.createElement(Box, {\n    as: hasMultipleSections ? 'ul' : 'div',\n    ref: actionListRef,\n    role: elementRole,\n    tabIndex: elementTabIndex\n  }, listeners, sectionMarkup));\n}\nActionList.Item = Item;\n\nexport { ActionList };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}