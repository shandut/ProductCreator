{"ast":null,"code":"import React, { useState, useReducer, useRef, useMemo, useEffect, useCallback, Children } from 'react';\nimport { CheckboxIcon } from '@shopify/polaris-icons';\nimport { toPx, themeDefault } from '@shopify/polaris-tokens';\nimport { debounce } from '../../utilities/debounce.js';\nimport { classNames } from '../../utilities/css.js';\nimport { isElementOfType } from '../../utilities/components.js';\nimport { useLazyRef } from '../../utilities/use-lazy-ref.js';\nimport { useEventListener } from '../../utilities/use-event-listener.js';\nimport styles from './ResourceList.css.js';\nimport { SELECT_ALL_ITEMS } from '../../utilities/resource-list/types.js';\nimport { Select } from '../Select/Select.js';\nimport { ResourceItem } from '../ResourceItem/ResourceItem.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Text } from '../Text/Text.js';\nimport { Button } from '../Button/Button.js';\nimport { CheckableButton } from '../CheckableButton/CheckableButton.js';\nimport { Sticky } from '../Sticky/Sticky.js';\nimport { EmptySearchResult } from '../EmptySearchResult/EmptySearchResult.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport { Pagination } from '../Pagination/Pagination.js';\nimport { ResourceListContext } from '../../utilities/resource-list/context.js';\nimport { BulkActions } from '../BulkActions/BulkActions.js';\nconst SMALL_SPINNER_HEIGHT = 28;\nconst LARGE_SPINNER_HEIGHT = 45;\nfunction getAllItemsOnPage(items, idForItem) {\n  return items.map((item, index) => {\n    return idForItem(item, index);\n  });\n}\nconst isBreakpointsXS = () => {\n  return typeof window === 'undefined' ? false : window.innerWidth < parseFloat(toPx(themeDefault.breakpoints['breakpoints-sm']) ?? '');\n};\nfunction defaultIdForItem(item, index) {\n  return Object.prototype.hasOwnProperty.call(item, 'id') ? item.id : index.toString();\n}\nfunction ResourceList({\n  items,\n  filterControl,\n  flushFilters,\n  emptyState,\n  emptySearchState,\n  resourceName: resourceNameProp,\n  promotedBulkActions,\n  bulkActions,\n  selectedItems = [],\n  isFiltered,\n  selectable,\n  hasMoreItems,\n  loading,\n  headerContent,\n  showHeader,\n  totalItemsCount,\n  sortValue,\n  sortOptions,\n  alternateTool,\n  onSortChange,\n  onSelectionChange,\n  renderItem,\n  idForItem = defaultIdForItem,\n  resolveItemId,\n  pagination\n}) {\n  const i18n = useI18n();\n  const [selectMode, setSelectMode] = useState(Boolean(selectedItems && selectedItems.length > 0));\n  const [loadingPosition, setLoadingPositionState] = useState(0);\n  const [lastSelected, setLastSelected] = useState();\n  const [smallScreen, setSmallScreen] = useState(isBreakpointsXS());\n  const forceUpdate = useReducer((x = 0) => x + 1, 0)[1];\n  const checkableButtonRef = useRef(null);\n  const defaultResourceName = useLazyRef(() => ({\n    singular: i18n.translate('Polaris.ResourceList.defaultItemSingular'),\n    plural: i18n.translate('Polaris.ResourceList.defaultItemPlural')\n  }));\n  const listRef = useRef(null);\n  const handleSelectMode = selectMode => {\n    setSelectMode(selectMode);\n    if (!selectMode && onSelectionChange) {\n      onSelectionChange([]);\n    }\n  };\n  const handleResize = debounce(() => {\n    const newSmallScreen = isBreakpointsXS();\n    if (selectedItems && selectedItems.length === 0 && selectMode && !newSmallScreen) {\n      handleSelectMode(false);\n    }\n    if (smallScreen !== newSmallScreen) {\n      setSmallScreen(newSmallScreen);\n    }\n  }, 50, {\n    leading: true,\n    trailing: true,\n    maxWait: 50\n  });\n  useEventListener('resize', handleResize);\n  const isSelectable = Boolean(promotedBulkActions && promotedBulkActions.length > 0 || bulkActions && bulkActions.length > 0 || selectable) && !smallScreen;\n  const selectAllSelectState = useMemo(() => {\n    let selectState = 'indeterminate';\n    if (!selectedItems || Array.isArray(selectedItems) && selectedItems.length === 0) {\n      selectState = false;\n    } else if (selectedItems === SELECT_ALL_ITEMS || Array.isArray(selectedItems) && selectedItems.length === items.length) {\n      selectState = true;\n    }\n    return selectState;\n  }, [items.length, selectedItems]);\n  const resourceName = resourceNameProp ? resourceNameProp : defaultResourceName.current;\n  const headerTitle = () => {\n    const itemsCount = items.length;\n    const resource = !loading && (!totalItemsCount && itemsCount === 1 || totalItemsCount === 1) ? resourceName.singular : resourceName.plural;\n    if (loading) {\n      return i18n.translate('Polaris.ResourceList.loading', {\n        resource\n      });\n    } else if (totalItemsCount) {\n      return i18n.translate('Polaris.ResourceList.showingTotalCount', {\n        itemsCount,\n        totalItemsCount,\n        resource\n      });\n    } else if (headerContent) {\n      return headerContent;\n    } else {\n      return i18n.translate('Polaris.ResourceList.showing', {\n        itemsCount,\n        resource\n      });\n    }\n  };\n  const [selectedItemsCount, setSelectedItemsCount] = useState(selectedItems === SELECT_ALL_ITEMS ? `${items.length}+` : selectedItems.length);\n  useEffect(() => {\n    if (selectedItems === SELECT_ALL_ITEMS || selectedItems.length > 0) {\n      setSelectedItemsCount(selectedItems === SELECT_ALL_ITEMS ? `${items.length}+` : selectedItems.length);\n    }\n  }, [selectedItems, items.length]);\n  const selectAllActionsLabel = i18n.translate('Polaris.ResourceList.selected', {\n    selectedItemsCount\n  });\n  const bulkActionsAccessibilityLabel = useMemo(() => {\n    const selectedItemsCount = selectedItems.length;\n    const totalItemsCount = items.length;\n    const allSelected = selectedItemsCount === totalItemsCount;\n    if (totalItemsCount === 1 && allSelected) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxDeselectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (totalItemsCount === 1) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxSelectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (allSelected) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxDeselectAllMultiple', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    } else {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxSelectAllMultiple', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  }, [i18n, items.length, resourceName.singular, resourceName.plural, selectedItems.length]);\n  const paginatedSelectAllText = useMemo(() => {\n    if (!isSelectable || !hasMoreItems) {\n      return;\n    }\n    if (selectedItems === SELECT_ALL_ITEMS) {\n      return i18n.translate(isFiltered ? 'Polaris.ResourceList.allFilteredItemsSelected' : 'Polaris.ResourceList.allItemsSelected', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  }, [hasMoreItems, i18n, isFiltered, isSelectable, items, resourceName.plural, selectedItems]);\n  const handleSelectAllItemsInStore = useCallback(() => {\n    const newlySelectedItems = selectedItems === SELECT_ALL_ITEMS ? getAllItemsOnPage(items, idForItem) : SELECT_ALL_ITEMS;\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    }\n  }, [idForItem, items, onSelectionChange, selectedItems]);\n  const paginatedSelectAllAction = useMemo(() => {\n    if (!isSelectable || !hasMoreItems) {\n      return;\n    }\n    const actionText = selectedItems === SELECT_ALL_ITEMS ? i18n.translate('Polaris.Common.undo') : i18n.translate(isFiltered ? 'Polaris.ResourceList.selectAllFilteredItems' : 'Polaris.ResourceList.selectAllItems', {\n      itemsLength: items.length,\n      resourceNamePlural: resourceName.plural\n    });\n    return {\n      content: actionText,\n      onAction: handleSelectAllItemsInStore\n    };\n  }, [handleSelectAllItemsInStore, hasMoreItems, i18n, isFiltered, isSelectable, items.length, resourceName.plural, selectedItems]);\n  const emptySearchResultText = {\n    title: i18n.translate('Polaris.ResourceList.emptySearchResultTitle', {\n      resourceNamePlural: resourceName.plural\n    }),\n    description: i18n.translate('Polaris.ResourceList.emptySearchResultDescription')\n  };\n  const setLoadingPosition = useCallback(() => {\n    if (listRef.current != null) {\n      if (typeof window === 'undefined') {\n        return;\n      }\n      const overlay = listRef.current.getBoundingClientRect();\n      const viewportHeight = Math.max(document.documentElement ? document.documentElement.clientHeight : 0, window.innerHeight || 0);\n      const overflow = viewportHeight - overlay.height;\n      const spinnerHeight = items.length === 1 ? SMALL_SPINNER_HEIGHT : LARGE_SPINNER_HEIGHT;\n      const spinnerPosition = overflow > 0 ? (overlay.height - spinnerHeight) / 2 : (viewportHeight - overlay.top - spinnerHeight) / 2;\n      setLoadingPositionState(spinnerPosition);\n    }\n  }, [listRef, items.length]);\n  const itemsExist = items.length > 0;\n  useEffect(() => {\n    if (loading) {\n      setLoadingPosition();\n    }\n  }, [loading, setLoadingPosition]);\n  useEffect(() => {\n    if (selectedItems && selectedItems.length > 0 && !selectMode) {\n      setSelectMode(true);\n    }\n    if ((!selectedItems || selectedItems.length === 0) && !isBreakpointsXS()) {\n      setSelectMode(false);\n    }\n  }, [selectedItems, selectMode]);\n  useEffect(() => {\n    forceUpdate();\n  }, [forceUpdate, items]);\n  const renderItemWithId = (item, index) => {\n    const id = idForItem(item, index);\n    const itemContent = renderItem(item, id, index);\n    if (process.env.NODE_ENV === 'development' && !isElementOfType(itemContent, ResourceItem)) {\n      // eslint-disable-next-line no-console\n      console.warn('<ResourceList /> renderItem function should return a <ResourceItem />.');\n    }\n    return itemContent;\n  };\n  const handleMultiSelectionChange = (lastSelected, currentSelected, resolveItemId) => {\n    const min = Math.min(lastSelected, currentSelected);\n    const max = Math.max(lastSelected, currentSelected);\n    return items.slice(min, max + 1).map(resolveItemId);\n  };\n  const handleSelectionChange = (selected, id, sortOrder, shiftKey) => {\n    if (selectedItems == null || onSelectionChange == null) {\n      return;\n    }\n    let newlySelectedItems = selectedItems === SELECT_ALL_ITEMS ? getAllItemsOnPage(items, idForItem) : [...selectedItems];\n    if (sortOrder !== undefined) {\n      setLastSelected(sortOrder);\n    }\n    const lastSelectedFromState = lastSelected;\n    let selectedIds = [id];\n    if (shiftKey && lastSelectedFromState != null && sortOrder !== undefined && resolveItemId) {\n      selectedIds = handleMultiSelectionChange(lastSelectedFromState, sortOrder, resolveItemId);\n    }\n    newlySelectedItems = [...new Set([...newlySelectedItems, ...selectedIds])];\n    if (!selected) {\n      for (const selectedId of selectedIds) {\n        newlySelectedItems.splice(newlySelectedItems.indexOf(selectedId), 1);\n      }\n    }\n    if (newlySelectedItems.length === 0 && !isBreakpointsXS()) {\n      handleSelectMode(false);\n    } else if (newlySelectedItems.length > 0) {\n      handleSelectMode(true);\n    }\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    }\n  };\n  const handleToggleAll = () => {\n    let newlySelectedItems;\n    if (Array.isArray(selectedItems) && selectedItems.length === items.length || selectedItems === SELECT_ALL_ITEMS) {\n      newlySelectedItems = [];\n    } else {\n      newlySelectedItems = items.map((item, index) => {\n        return idForItem(item, index);\n      });\n    }\n    if (newlySelectedItems.length === 0 && !isBreakpointsXS()) {\n      handleSelectMode(false);\n    } else if (newlySelectedItems.length > 0) {\n      handleSelectMode(true);\n    }\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    }\n\n    // setTimeout ensures execution after the Transition on BulkActions\n    setTimeout(() => {\n      checkableButtonRef?.current?.focus();\n    }, 0);\n  };\n  const bulkActionClassNames = classNames(styles.BulkActionsWrapper, selectMode && styles.BulkActionsWrapperVisible);\n  const bulkActionsMarkup = isSelectable ? /*#__PURE__*/React.createElement(\"div\", {\n    className: bulkActionClassNames\n  }, /*#__PURE__*/React.createElement(BulkActions, {\n    selectMode: selectMode,\n    onSelectModeToggle: handleSelectMode,\n    label: selectAllActionsLabel,\n    paginatedSelectAllAction: paginatedSelectAllAction,\n    paginatedSelectAllText: paginatedSelectAllText,\n    promotedActions: promotedBulkActions,\n    actions: bulkActions,\n    disabled: loading,\n    accessibilityLabel: bulkActionsAccessibilityLabel,\n    selected: selectAllSelectState,\n    onToggleAll: handleToggleAll,\n    ref: checkableButtonRef,\n    buttonSize: \"medium\"\n  })) : null;\n  const filterControlMarkup = filterControl ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(!flushFilters && styles.FiltersWrapper)\n  }, filterControl) : null;\n  const sortingSelectMarkup = sortOptions && sortOptions.length > 0 && !alternateTool ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.SortWrapper\n  }, /*#__PURE__*/React.createElement(Select, {\n    label: i18n.translate('Polaris.ResourceList.sortingLabel'),\n    labelInline: !smallScreen,\n    labelHidden: smallScreen,\n    options: sortOptions,\n    onChange: onSortChange,\n    value: sortValue,\n    disabled: selectMode\n  })) : null;\n  const alternateToolMarkup = alternateTool && !sortingSelectMarkup ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.AlternateToolWrapper\n  }, alternateTool) : null;\n  const headerTitleMarkup = /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.HeaderTitleWrapper\n  }, /*#__PURE__*/React.createElement(Text, {\n    as: \"span\",\n    variant: \"bodyMd\"\n  }, headerTitle()));\n  const selectButtonMarkup = isSelectable ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.SelectButtonWrapper\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: selectMode,\n    icon: CheckboxIcon,\n    onClick: () => handleSelectMode(true)\n  }, i18n.translate('Polaris.ResourceList.selectButtonText'))) : null;\n  const checkableButtonMarkup = isSelectable ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.CheckableButtonWrapper\n  }, /*#__PURE__*/React.createElement(CheckableButton, {\n    accessibilityLabel: bulkActionsAccessibilityLabel,\n    label: headerTitle(),\n    onToggleAll: handleToggleAll,\n    disabled: loading,\n    ref: checkableButtonRef,\n    selected: selectAllSelectState\n  })) : null;\n  const needsHeader = isSelectable || sortOptions && sortOptions.length > 0 || alternateTool;\n  const headerWrapperOverlay = loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['HeaderWrapper-overlay']\n  }) : null;\n  const showEmptyState = emptyState && !itemsExist && !loading;\n  const showEmptySearchState = !showEmptyState && filterControl && !itemsExist && !loading;\n  const headerMarkup = !showEmptyState && showHeader !== false && !showEmptySearchState && (showHeader || needsHeader) && listRef.current && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.HeaderOuterWrapper\n  }, /*#__PURE__*/React.createElement(Sticky, {\n    boundingElement: listRef.current\n  }, isSticky => {\n    const headerClassName = classNames(styles.HeaderWrapper, sortOptions && sortOptions.length > 0 && !alternateTool && styles['HeaderWrapper-hasSort'], alternateTool && styles['HeaderWrapper-hasAlternateTool'], isSelectable && styles['HeaderWrapper-hasSelect'], loading && styles['HeaderWrapper-disabled'], isSelectable && selectMode && bulkActionsMarkup && styles['HeaderWrapper-inSelectMode'], isSticky && styles['HeaderWrapper-isSticky']);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: headerClassName\n    }, headerWrapperOverlay, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.HeaderContentWrapper\n    }, headerTitleMarkup, checkableButtonMarkup, alternateToolMarkup, sortingSelectMarkup, selectButtonMarkup), bulkActionsMarkup);\n  }));\n  const emptySearchStateMarkup = showEmptySearchState ? emptySearchState || /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.EmptySearchResultWrapper\n  }, /*#__PURE__*/React.createElement(EmptySearchResult, Object.assign({}, emptySearchResultText, {\n    withIllustration: true\n  }))) : null;\n  const emptyStateMarkup = showEmptyState ? emptyState : null;\n  const defaultTopPadding = 8;\n  const topPadding = loadingPosition > 0 ? loadingPosition : defaultTopPadding;\n  const spinnerStyle = {\n    paddingTop: `${topPadding}px`\n  };\n  const spinnerSize = items.length < 2 ? 'small' : 'large';\n  const loadingOverlay = loading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.SpinnerContainer,\n    style: spinnerStyle\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    size: spinnerSize,\n    accessibilityLabel: \"Items are loading\"\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.LoadingOverlay\n  })) : null;\n  const className = classNames(styles.ItemWrapper, loading && styles['ItemWrapper-isLoading']);\n  const loadingWithoutItemsMarkup = loading && !itemsExist ? /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    tabIndex: -1\n  }, loadingOverlay) : null;\n  const resourceListClassName = classNames(styles.ResourceList, loading && styles.disabledPointerEvents, selectMode && styles.disableTextSelection);\n  const listMarkup = itemsExist ? /*#__PURE__*/React.createElement(\"ul\", {\n    className: resourceListClassName,\n    ref: listRef,\n    \"aria-live\": \"polite\",\n    \"aria-busy\": loading\n  }, loadingOverlay, Children.toArray(items.map(renderItemWithId))) : null;\n  const paginationMarkup = pagination ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.PaginationWrapper\n  }, /*#__PURE__*/React.createElement(Pagination, Object.assign({\n    type: \"table\"\n  }, pagination))) : null;\n\n  // This is probably a legit error but I don't have the time to refactor this\n  // eslint-disable-next-line react/jsx-no-constructed-context-values\n  const context = {\n    selectable: isSelectable,\n    selectedItems,\n    selectMode,\n    hasBulkActions: Boolean(bulkActions),\n    resourceName,\n    loading,\n    onSelectionChange: handleSelectionChange\n  };\n  return /*#__PURE__*/React.createElement(ResourceListContext.Provider, {\n    value: context\n  }, filterControlMarkup, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ResourceListWrapper\n  }, headerMarkup, listMarkup, emptySearchStateMarkup, emptyStateMarkup, loadingWithoutItemsMarkup, paginationMarkup));\n}\nResourceList.Item = ResourceItem;\nexport { ResourceList };","map":{"version":3,"names":["React","useState","useReducer","useRef","useMemo","useEffect","useCallback","Children","CheckboxIcon","toPx","themeDefault","debounce","classNames","isElementOfType","useLazyRef","useEventListener","styles","SELECT_ALL_ITEMS","Select","ResourceItem","useI18n","Text","Button","CheckableButton","Sticky","EmptySearchResult","Spinner","Pagination","ResourceListContext","BulkActions","SMALL_SPINNER_HEIGHT","LARGE_SPINNER_HEIGHT","getAllItemsOnPage","items","idForItem","map","item","index","isBreakpointsXS","window","innerWidth","parseFloat","breakpoints","defaultIdForItem","Object","prototype","hasOwnProperty","call","id","toString","ResourceList","filterControl","flushFilters","emptyState","emptySearchState","resourceName","resourceNameProp","promotedBulkActions","bulkActions","selectedItems","isFiltered","selectable","hasMoreItems","loading","headerContent","showHeader","totalItemsCount","sortValue","sortOptions","alternateTool","onSortChange","onSelectionChange","renderItem","resolveItemId","pagination","i18n","selectMode","setSelectMode","Boolean","length","loadingPosition","setLoadingPositionState","lastSelected","setLastSelected","smallScreen","setSmallScreen","forceUpdate","x","checkableButtonRef","defaultResourceName","singular","translate","plural","listRef","handleSelectMode","handleResize","newSmallScreen","leading","trailing","maxWait","isSelectable","selectAllSelectState","selectState","Array","isArray","current","headerTitle","itemsCount","resource","selectedItemsCount","setSelectedItemsCount","selectAllActionsLabel","bulkActionsAccessibilityLabel","allSelected","resourceNameSingular","itemsLength","resourceNamePlural","paginatedSelectAllText","handleSelectAllItemsInStore","newlySelectedItems","paginatedSelectAllAction","actionText","content","onAction","emptySearchResultText","title","description","setLoadingPosition","overlay","getBoundingClientRect","viewportHeight","Math","max","document","documentElement","clientHeight","innerHeight","overflow","height","spinnerHeight","spinnerPosition","top","itemsExist","renderItemWithId","itemContent","process","env","NODE_ENV","console","warn","handleMultiSelectionChange","currentSelected","min","slice","handleSelectionChange","selected","sortOrder","shiftKey","undefined","lastSelectedFromState","selectedIds","Set","selectedId","splice","indexOf","handleToggleAll","setTimeout","focus","bulkActionClassNames","BulkActionsWrapper","BulkActionsWrapperVisible","bulkActionsMarkup","createElement","className","onSelectModeToggle","label","promotedActions","actions","disabled","accessibilityLabel","onToggleAll","ref","buttonSize","filterControlMarkup","FiltersWrapper","sortingSelectMarkup","SortWrapper","labelInline","labelHidden","options","onChange","value","alternateToolMarkup","AlternateToolWrapper","headerTitleMarkup","HeaderTitleWrapper","as","variant","selectButtonMarkup","SelectButtonWrapper","icon","onClick","checkableButtonMarkup","CheckableButtonWrapper","needsHeader","headerWrapperOverlay","showEmptyState","showEmptySearchState","headerMarkup","HeaderOuterWrapper","boundingElement","isSticky","headerClassName","HeaderWrapper","HeaderContentWrapper","emptySearchStateMarkup","EmptySearchResultWrapper","assign","withIllustration","emptyStateMarkup","defaultTopPadding","topPadding","spinnerStyle","paddingTop","spinnerSize","loadingOverlay","Fragment","SpinnerContainer","style","size","LoadingOverlay","ItemWrapper","loadingWithoutItemsMarkup","tabIndex","resourceListClassName","disabledPointerEvents","disableTextSelection","listMarkup","toArray","paginationMarkup","PaginationWrapper","type","context","hasBulkActions","Provider","ResourceListWrapper","Item"],"sources":["/Users/shannondutton/Documents/Code Projects/ProductCreator/node_modules/@shopify/polaris/build/esm/components/ResourceList/ResourceList.js"],"sourcesContent":["import React, { useState, useReducer, useRef, useMemo, useEffect, useCallback, Children } from 'react';\nimport { CheckboxIcon } from '@shopify/polaris-icons';\nimport { toPx, themeDefault } from '@shopify/polaris-tokens';\nimport { debounce } from '../../utilities/debounce.js';\nimport { classNames } from '../../utilities/css.js';\nimport { isElementOfType } from '../../utilities/components.js';\nimport { useLazyRef } from '../../utilities/use-lazy-ref.js';\nimport { useEventListener } from '../../utilities/use-event-listener.js';\nimport styles from './ResourceList.css.js';\nimport { SELECT_ALL_ITEMS } from '../../utilities/resource-list/types.js';\nimport { Select } from '../Select/Select.js';\nimport { ResourceItem } from '../ResourceItem/ResourceItem.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Text } from '../Text/Text.js';\nimport { Button } from '../Button/Button.js';\nimport { CheckableButton } from '../CheckableButton/CheckableButton.js';\nimport { Sticky } from '../Sticky/Sticky.js';\nimport { EmptySearchResult } from '../EmptySearchResult/EmptySearchResult.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport { Pagination } from '../Pagination/Pagination.js';\nimport { ResourceListContext } from '../../utilities/resource-list/context.js';\nimport { BulkActions } from '../BulkActions/BulkActions.js';\n\nconst SMALL_SPINNER_HEIGHT = 28;\nconst LARGE_SPINNER_HEIGHT = 45;\nfunction getAllItemsOnPage(items, idForItem) {\n  return items.map((item, index) => {\n    return idForItem(item, index);\n  });\n}\nconst isBreakpointsXS = () => {\n  return typeof window === 'undefined' ? false : window.innerWidth < parseFloat(toPx(themeDefault.breakpoints['breakpoints-sm']) ?? '');\n};\nfunction defaultIdForItem(item, index) {\n  return Object.prototype.hasOwnProperty.call(item, 'id') ? item.id : index.toString();\n}\nfunction ResourceList({\n  items,\n  filterControl,\n  flushFilters,\n  emptyState,\n  emptySearchState,\n  resourceName: resourceNameProp,\n  promotedBulkActions,\n  bulkActions,\n  selectedItems = [],\n  isFiltered,\n  selectable,\n  hasMoreItems,\n  loading,\n  headerContent,\n  showHeader,\n  totalItemsCount,\n  sortValue,\n  sortOptions,\n  alternateTool,\n  onSortChange,\n  onSelectionChange,\n  renderItem,\n  idForItem = defaultIdForItem,\n  resolveItemId,\n  pagination\n}) {\n  const i18n = useI18n();\n  const [selectMode, setSelectMode] = useState(Boolean(selectedItems && selectedItems.length > 0));\n  const [loadingPosition, setLoadingPositionState] = useState(0);\n  const [lastSelected, setLastSelected] = useState();\n  const [smallScreen, setSmallScreen] = useState(isBreakpointsXS());\n  const forceUpdate = useReducer((x = 0) => x + 1, 0)[1];\n  const checkableButtonRef = useRef(null);\n  const defaultResourceName = useLazyRef(() => ({\n    singular: i18n.translate('Polaris.ResourceList.defaultItemSingular'),\n    plural: i18n.translate('Polaris.ResourceList.defaultItemPlural')\n  }));\n  const listRef = useRef(null);\n  const handleSelectMode = selectMode => {\n    setSelectMode(selectMode);\n    if (!selectMode && onSelectionChange) {\n      onSelectionChange([]);\n    }\n  };\n  const handleResize = debounce(() => {\n    const newSmallScreen = isBreakpointsXS();\n    if (selectedItems && selectedItems.length === 0 && selectMode && !newSmallScreen) {\n      handleSelectMode(false);\n    }\n    if (smallScreen !== newSmallScreen) {\n      setSmallScreen(newSmallScreen);\n    }\n  }, 50, {\n    leading: true,\n    trailing: true,\n    maxWait: 50\n  });\n  useEventListener('resize', handleResize);\n  const isSelectable = Boolean(promotedBulkActions && promotedBulkActions.length > 0 || bulkActions && bulkActions.length > 0 || selectable) && !smallScreen;\n  const selectAllSelectState = useMemo(() => {\n    let selectState = 'indeterminate';\n    if (!selectedItems || Array.isArray(selectedItems) && selectedItems.length === 0) {\n      selectState = false;\n    } else if (selectedItems === SELECT_ALL_ITEMS || Array.isArray(selectedItems) && selectedItems.length === items.length) {\n      selectState = true;\n    }\n    return selectState;\n  }, [items.length, selectedItems]);\n  const resourceName = resourceNameProp ? resourceNameProp : defaultResourceName.current;\n  const headerTitle = () => {\n    const itemsCount = items.length;\n    const resource = !loading && (!totalItemsCount && itemsCount === 1 || totalItemsCount === 1) ? resourceName.singular : resourceName.plural;\n    if (loading) {\n      return i18n.translate('Polaris.ResourceList.loading', {\n        resource\n      });\n    } else if (totalItemsCount) {\n      return i18n.translate('Polaris.ResourceList.showingTotalCount', {\n        itemsCount,\n        totalItemsCount,\n        resource\n      });\n    } else if (headerContent) {\n      return headerContent;\n    } else {\n      return i18n.translate('Polaris.ResourceList.showing', {\n        itemsCount,\n        resource\n      });\n    }\n  };\n  const [selectedItemsCount, setSelectedItemsCount] = useState(selectedItems === SELECT_ALL_ITEMS ? `${items.length}+` : selectedItems.length);\n  useEffect(() => {\n    if (selectedItems === SELECT_ALL_ITEMS || selectedItems.length > 0) {\n      setSelectedItemsCount(selectedItems === SELECT_ALL_ITEMS ? `${items.length}+` : selectedItems.length);\n    }\n  }, [selectedItems, items.length]);\n  const selectAllActionsLabel = i18n.translate('Polaris.ResourceList.selected', {\n    selectedItemsCount\n  });\n  const bulkActionsAccessibilityLabel = useMemo(() => {\n    const selectedItemsCount = selectedItems.length;\n    const totalItemsCount = items.length;\n    const allSelected = selectedItemsCount === totalItemsCount;\n    if (totalItemsCount === 1 && allSelected) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxDeselectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (totalItemsCount === 1) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxSelectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (allSelected) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxDeselectAllMultiple', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    } else {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxSelectAllMultiple', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  }, [i18n, items.length, resourceName.singular, resourceName.plural, selectedItems.length]);\n  const paginatedSelectAllText = useMemo(() => {\n    if (!isSelectable || !hasMoreItems) {\n      return;\n    }\n    if (selectedItems === SELECT_ALL_ITEMS) {\n      return i18n.translate(isFiltered ? 'Polaris.ResourceList.allFilteredItemsSelected' : 'Polaris.ResourceList.allItemsSelected', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  }, [hasMoreItems, i18n, isFiltered, isSelectable, items, resourceName.plural, selectedItems]);\n  const handleSelectAllItemsInStore = useCallback(() => {\n    const newlySelectedItems = selectedItems === SELECT_ALL_ITEMS ? getAllItemsOnPage(items, idForItem) : SELECT_ALL_ITEMS;\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    }\n  }, [idForItem, items, onSelectionChange, selectedItems]);\n  const paginatedSelectAllAction = useMemo(() => {\n    if (!isSelectable || !hasMoreItems) {\n      return;\n    }\n    const actionText = selectedItems === SELECT_ALL_ITEMS ? i18n.translate('Polaris.Common.undo') : i18n.translate(isFiltered ? 'Polaris.ResourceList.selectAllFilteredItems' : 'Polaris.ResourceList.selectAllItems', {\n      itemsLength: items.length,\n      resourceNamePlural: resourceName.plural\n    });\n    return {\n      content: actionText,\n      onAction: handleSelectAllItemsInStore\n    };\n  }, [handleSelectAllItemsInStore, hasMoreItems, i18n, isFiltered, isSelectable, items.length, resourceName.plural, selectedItems]);\n  const emptySearchResultText = {\n    title: i18n.translate('Polaris.ResourceList.emptySearchResultTitle', {\n      resourceNamePlural: resourceName.plural\n    }),\n    description: i18n.translate('Polaris.ResourceList.emptySearchResultDescription')\n  };\n  const setLoadingPosition = useCallback(() => {\n    if (listRef.current != null) {\n      if (typeof window === 'undefined') {\n        return;\n      }\n      const overlay = listRef.current.getBoundingClientRect();\n      const viewportHeight = Math.max(document.documentElement ? document.documentElement.clientHeight : 0, window.innerHeight || 0);\n      const overflow = viewportHeight - overlay.height;\n      const spinnerHeight = items.length === 1 ? SMALL_SPINNER_HEIGHT : LARGE_SPINNER_HEIGHT;\n      const spinnerPosition = overflow > 0 ? (overlay.height - spinnerHeight) / 2 : (viewportHeight - overlay.top - spinnerHeight) / 2;\n      setLoadingPositionState(spinnerPosition);\n    }\n  }, [listRef, items.length]);\n  const itemsExist = items.length > 0;\n  useEffect(() => {\n    if (loading) {\n      setLoadingPosition();\n    }\n  }, [loading, setLoadingPosition]);\n  useEffect(() => {\n    if (selectedItems && selectedItems.length > 0 && !selectMode) {\n      setSelectMode(true);\n    }\n    if ((!selectedItems || selectedItems.length === 0) && !isBreakpointsXS()) {\n      setSelectMode(false);\n    }\n  }, [selectedItems, selectMode]);\n  useEffect(() => {\n    forceUpdate();\n  }, [forceUpdate, items]);\n  const renderItemWithId = (item, index) => {\n    const id = idForItem(item, index);\n    const itemContent = renderItem(item, id, index);\n    if (process.env.NODE_ENV === 'development' && !isElementOfType(itemContent, ResourceItem)) {\n      // eslint-disable-next-line no-console\n      console.warn('<ResourceList /> renderItem function should return a <ResourceItem />.');\n    }\n    return itemContent;\n  };\n  const handleMultiSelectionChange = (lastSelected, currentSelected, resolveItemId) => {\n    const min = Math.min(lastSelected, currentSelected);\n    const max = Math.max(lastSelected, currentSelected);\n    return items.slice(min, max + 1).map(resolveItemId);\n  };\n  const handleSelectionChange = (selected, id, sortOrder, shiftKey) => {\n    if (selectedItems == null || onSelectionChange == null) {\n      return;\n    }\n    let newlySelectedItems = selectedItems === SELECT_ALL_ITEMS ? getAllItemsOnPage(items, idForItem) : [...selectedItems];\n    if (sortOrder !== undefined) {\n      setLastSelected(sortOrder);\n    }\n    const lastSelectedFromState = lastSelected;\n    let selectedIds = [id];\n    if (shiftKey && lastSelectedFromState != null && sortOrder !== undefined && resolveItemId) {\n      selectedIds = handleMultiSelectionChange(lastSelectedFromState, sortOrder, resolveItemId);\n    }\n    newlySelectedItems = [...new Set([...newlySelectedItems, ...selectedIds])];\n    if (!selected) {\n      for (const selectedId of selectedIds) {\n        newlySelectedItems.splice(newlySelectedItems.indexOf(selectedId), 1);\n      }\n    }\n    if (newlySelectedItems.length === 0 && !isBreakpointsXS()) {\n      handleSelectMode(false);\n    } else if (newlySelectedItems.length > 0) {\n      handleSelectMode(true);\n    }\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    }\n  };\n  const handleToggleAll = () => {\n    let newlySelectedItems;\n    if (Array.isArray(selectedItems) && selectedItems.length === items.length || selectedItems === SELECT_ALL_ITEMS) {\n      newlySelectedItems = [];\n    } else {\n      newlySelectedItems = items.map((item, index) => {\n        return idForItem(item, index);\n      });\n    }\n    if (newlySelectedItems.length === 0 && !isBreakpointsXS()) {\n      handleSelectMode(false);\n    } else if (newlySelectedItems.length > 0) {\n      handleSelectMode(true);\n    }\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    }\n\n    // setTimeout ensures execution after the Transition on BulkActions\n    setTimeout(() => {\n      checkableButtonRef?.current?.focus();\n    }, 0);\n  };\n  const bulkActionClassNames = classNames(styles.BulkActionsWrapper, selectMode && styles.BulkActionsWrapperVisible);\n  const bulkActionsMarkup = isSelectable ? /*#__PURE__*/React.createElement(\"div\", {\n    className: bulkActionClassNames\n  }, /*#__PURE__*/React.createElement(BulkActions, {\n    selectMode: selectMode,\n    onSelectModeToggle: handleSelectMode,\n    label: selectAllActionsLabel,\n    paginatedSelectAllAction: paginatedSelectAllAction,\n    paginatedSelectAllText: paginatedSelectAllText,\n    promotedActions: promotedBulkActions,\n    actions: bulkActions,\n    disabled: loading,\n    accessibilityLabel: bulkActionsAccessibilityLabel,\n    selected: selectAllSelectState,\n    onToggleAll: handleToggleAll,\n    ref: checkableButtonRef,\n    buttonSize: \"medium\"\n  })) : null;\n  const filterControlMarkup = filterControl ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(!flushFilters && styles.FiltersWrapper)\n  }, filterControl) : null;\n  const sortingSelectMarkup = sortOptions && sortOptions.length > 0 && !alternateTool ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.SortWrapper\n  }, /*#__PURE__*/React.createElement(Select, {\n    label: i18n.translate('Polaris.ResourceList.sortingLabel'),\n    labelInline: !smallScreen,\n    labelHidden: smallScreen,\n    options: sortOptions,\n    onChange: onSortChange,\n    value: sortValue,\n    disabled: selectMode\n  })) : null;\n  const alternateToolMarkup = alternateTool && !sortingSelectMarkup ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.AlternateToolWrapper\n  }, alternateTool) : null;\n  const headerTitleMarkup = /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.HeaderTitleWrapper\n  }, /*#__PURE__*/React.createElement(Text, {\n    as: \"span\",\n    variant: \"bodyMd\"\n  }, headerTitle()));\n  const selectButtonMarkup = isSelectable ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.SelectButtonWrapper\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: selectMode,\n    icon: CheckboxIcon,\n    onClick: () => handleSelectMode(true)\n  }, i18n.translate('Polaris.ResourceList.selectButtonText'))) : null;\n  const checkableButtonMarkup = isSelectable ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.CheckableButtonWrapper\n  }, /*#__PURE__*/React.createElement(CheckableButton, {\n    accessibilityLabel: bulkActionsAccessibilityLabel,\n    label: headerTitle(),\n    onToggleAll: handleToggleAll,\n    disabled: loading,\n    ref: checkableButtonRef,\n    selected: selectAllSelectState\n  })) : null;\n  const needsHeader = isSelectable || sortOptions && sortOptions.length > 0 || alternateTool;\n  const headerWrapperOverlay = loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['HeaderWrapper-overlay']\n  }) : null;\n  const showEmptyState = emptyState && !itemsExist && !loading;\n  const showEmptySearchState = !showEmptyState && filterControl && !itemsExist && !loading;\n  const headerMarkup = !showEmptyState && showHeader !== false && !showEmptySearchState && (showHeader || needsHeader) && listRef.current && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.HeaderOuterWrapper\n  }, /*#__PURE__*/React.createElement(Sticky, {\n    boundingElement: listRef.current\n  }, isSticky => {\n    const headerClassName = classNames(styles.HeaderWrapper, sortOptions && sortOptions.length > 0 && !alternateTool && styles['HeaderWrapper-hasSort'], alternateTool && styles['HeaderWrapper-hasAlternateTool'], isSelectable && styles['HeaderWrapper-hasSelect'], loading && styles['HeaderWrapper-disabled'], isSelectable && selectMode && bulkActionsMarkup && styles['HeaderWrapper-inSelectMode'], isSticky && styles['HeaderWrapper-isSticky']);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: headerClassName\n    }, headerWrapperOverlay, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.HeaderContentWrapper\n    }, headerTitleMarkup, checkableButtonMarkup, alternateToolMarkup, sortingSelectMarkup, selectButtonMarkup), bulkActionsMarkup);\n  }));\n  const emptySearchStateMarkup = showEmptySearchState ? emptySearchState || /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.EmptySearchResultWrapper\n  }, /*#__PURE__*/React.createElement(EmptySearchResult, Object.assign({}, emptySearchResultText, {\n    withIllustration: true\n  }))) : null;\n  const emptyStateMarkup = showEmptyState ? emptyState : null;\n  const defaultTopPadding = 8;\n  const topPadding = loadingPosition > 0 ? loadingPosition : defaultTopPadding;\n  const spinnerStyle = {\n    paddingTop: `${topPadding}px`\n  };\n  const spinnerSize = items.length < 2 ? 'small' : 'large';\n  const loadingOverlay = loading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.SpinnerContainer,\n    style: spinnerStyle\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    size: spinnerSize,\n    accessibilityLabel: \"Items are loading\"\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.LoadingOverlay\n  })) : null;\n  const className = classNames(styles.ItemWrapper, loading && styles['ItemWrapper-isLoading']);\n  const loadingWithoutItemsMarkup = loading && !itemsExist ? /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    tabIndex: -1\n  }, loadingOverlay) : null;\n  const resourceListClassName = classNames(styles.ResourceList, loading && styles.disabledPointerEvents, selectMode && styles.disableTextSelection);\n  const listMarkup = itemsExist ? /*#__PURE__*/React.createElement(\"ul\", {\n    className: resourceListClassName,\n    ref: listRef,\n    \"aria-live\": \"polite\",\n    \"aria-busy\": loading\n  }, loadingOverlay, Children.toArray(items.map(renderItemWithId))) : null;\n  const paginationMarkup = pagination ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.PaginationWrapper\n  }, /*#__PURE__*/React.createElement(Pagination, Object.assign({\n    type: \"table\"\n  }, pagination))) : null;\n\n  // This is probably a legit error but I don't have the time to refactor this\n  // eslint-disable-next-line react/jsx-no-constructed-context-values\n  const context = {\n    selectable: isSelectable,\n    selectedItems,\n    selectMode,\n    hasBulkActions: Boolean(bulkActions),\n    resourceName,\n    loading,\n    onSelectionChange: handleSelectionChange\n  };\n  return /*#__PURE__*/React.createElement(ResourceListContext.Provider, {\n    value: context\n  }, filterControlMarkup, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ResourceListWrapper\n  }, headerMarkup, listMarkup, emptySearchStateMarkup, emptyStateMarkup, loadingWithoutItemsMarkup, paginationMarkup));\n}\nResourceList.Item = ResourceItem;\n\nexport { ResourceList };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}