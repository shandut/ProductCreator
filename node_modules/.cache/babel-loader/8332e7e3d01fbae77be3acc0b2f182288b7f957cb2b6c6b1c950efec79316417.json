{"ast":null,"code":"import React, { useState, useId, useRef, useCallback } from 'react';\nimport { TransitionGroup } from 'react-transition-group';\nimport { focusFirstFocusableNode } from '../../utilities/focus.js';\nimport { WithinContentContext } from '../../utilities/within-content-context.js';\nimport { wrapWithComponent } from '../../utilities/components.js';\nimport styles from './Modal.css.js';\nimport { Section } from './components/Section/Section.js';\nimport { Dialog } from './components/Dialog/Dialog.js';\nimport { Header } from './components/Header/Header.js';\nimport { Backdrop } from '../Backdrop/Backdrop.js';\nimport { Footer } from './components/Footer/Footer.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Box } from '../Box/Box.js';\nimport { Scrollable } from '../Scrollable/Scrollable.js';\nimport { Portal } from '../Portal/Portal.js';\nimport { InlineStack } from '../InlineStack/InlineStack.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nconst IFRAME_LOADING_HEIGHT = 200;\nconst DEFAULT_IFRAME_CONTENT_HEIGHT = 400;\nconst Modal = function Modal({\n  children,\n  title,\n  titleHidden = false,\n  src,\n  iFrameName,\n  open,\n  instant,\n  sectioned,\n  loading,\n  size,\n  limitHeight,\n  footer,\n  primaryAction,\n  secondaryActions,\n  onScrolledToBottom,\n  activator,\n  activatorWrapper = 'div',\n  onClose,\n  onIFrameLoad,\n  onTransitionEnd,\n  noScroll\n}) {\n  const [iframeHeight, setIframeHeight] = useState(IFRAME_LOADING_HEIGHT);\n  const [closing, setClosing] = useState(false);\n  const headerId = useId();\n  const activatorRef = useRef(null);\n  const i18n = useI18n();\n  const iframeTitle = i18n.translate('Polaris.Modal.iFrameTitle');\n  let dialog;\n  let backdrop;\n  const handleEntered = useCallback(() => {\n    if (onTransitionEnd) {\n      onTransitionEnd();\n    }\n  }, [onTransitionEnd]);\n  const handleExited = useCallback(() => {\n    setIframeHeight(IFRAME_LOADING_HEIGHT);\n    const activatorElement = activator && isRef(activator) ? activator && activator.current : activatorRef.current;\n    if (activatorElement) {\n      requestAnimationFrame(() => focusFirstFocusableNode(activatorElement));\n    }\n  }, [activator]);\n  const handleIFrameLoad = useCallback(evt => {\n    const iframe = evt.target;\n    if (iframe && iframe.contentWindow) {\n      try {\n        setIframeHeight(iframe.contentWindow.document.body.scrollHeight);\n      } catch (_error) {\n        setIframeHeight(DEFAULT_IFRAME_CONTENT_HEIGHT);\n      }\n    }\n    if (onIFrameLoad != null) {\n      onIFrameLoad(evt);\n    }\n  }, [onIFrameLoad]);\n  if (open) {\n    const footerMarkup = !footer && !primaryAction && !secondaryActions ? null : /*#__PURE__*/React.createElement(Footer, {\n      primaryAction: primaryAction,\n      secondaryActions: secondaryActions\n    }, footer);\n    const content = sectioned ? wrapWithComponent(children, Section, {\n      titleHidden\n    }) : children;\n    const body = loading ? /*#__PURE__*/React.createElement(Box, {\n      padding: \"400\"\n    }, /*#__PURE__*/React.createElement(InlineStack, {\n      gap: \"400\",\n      align: \"center\",\n      blockAlign: \"center\"\n    }, /*#__PURE__*/React.createElement(Spinner, null))) : content;\n    const scrollContainerMarkup = noScroll ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.NoScrollBody\n    }, /*#__PURE__*/React.createElement(Box, {\n      width: \"100%\",\n      overflowX: \"hidden\",\n      overflowY: \"hidden\"\n    }, body)) : /*#__PURE__*/React.createElement(Scrollable, {\n      shadow: true,\n      className: styles.Body,\n      onScrolledToBottom: onScrolledToBottom\n    }, body);\n    const bodyMarkup = src ? /*#__PURE__*/React.createElement(\"iframe\", {\n      name: iFrameName,\n      title: iframeTitle,\n      src: src,\n      className: styles.IFrame,\n      onLoad: handleIFrameLoad,\n      style: {\n        height: `${iframeHeight}px`\n      }\n    }) : scrollContainerMarkup;\n    dialog = /*#__PURE__*/React.createElement(Dialog, {\n      instant: instant,\n      labelledBy: headerId,\n      onClose: onClose,\n      onEntered: handleEntered,\n      onExited: handleExited,\n      size: size,\n      limitHeight: limitHeight,\n      setClosing: setClosing\n    }, /*#__PURE__*/React.createElement(Header, {\n      titleHidden: titleHidden,\n      id: headerId,\n      closing: closing,\n      onClose: onClose\n    }, title), bodyMarkup, footerMarkup);\n    backdrop = /*#__PURE__*/React.createElement(Backdrop, {\n      setClosing: setClosing,\n      onClick: onClose\n    });\n  }\n  const animated = !instant;\n  const activatorMarkup = activator && !isRef(activator) ? /*#__PURE__*/React.createElement(Box, {\n    ref: activatorRef,\n    as: activatorWrapper\n  }, activator) : null;\n  return /*#__PURE__*/React.createElement(WithinContentContext.Provider, {\n    value: true\n  }, activatorMarkup, /*#__PURE__*/React.createElement(Portal, {\n    idPrefix: \"modal\"\n  }, /*#__PURE__*/React.createElement(TransitionGroup, {\n    appear: animated,\n    enter: animated,\n    exit: animated\n  }, dialog), backdrop));\n};\nfunction isRef(ref) {\n  return Object.prototype.hasOwnProperty.call(ref, 'current');\n}\nModal.Section = Section;\nexport { Modal };","map":{"version":3,"names":["React","useState","useId","useRef","useCallback","TransitionGroup","focusFirstFocusableNode","WithinContentContext","wrapWithComponent","styles","Section","Dialog","Header","Backdrop","Footer","useI18n","Box","Scrollable","Portal","InlineStack","Spinner","IFRAME_LOADING_HEIGHT","DEFAULT_IFRAME_CONTENT_HEIGHT","Modal","children","title","titleHidden","src","iFrameName","open","instant","sectioned","loading","size","limitHeight","footer","primaryAction","secondaryActions","onScrolledToBottom","activator","activatorWrapper","onClose","onIFrameLoad","onTransitionEnd","noScroll","iframeHeight","setIframeHeight","closing","setClosing","headerId","activatorRef","i18n","iframeTitle","translate","dialog","backdrop","handleEntered","handleExited","activatorElement","isRef","current","requestAnimationFrame","handleIFrameLoad","evt","iframe","target","contentWindow","document","body","scrollHeight","_error","footerMarkup","createElement","content","padding","gap","align","blockAlign","scrollContainerMarkup","className","NoScrollBody","width","overflowX","overflowY","shadow","Body","bodyMarkup","name","IFrame","onLoad","style","height","labelledBy","onEntered","onExited","id","onClick","animated","activatorMarkup","ref","as","Provider","value","idPrefix","appear","enter","exit","Object","prototype","hasOwnProperty","call"],"sources":["/Users/shannondutton/Documents/Code Projects/ProductCreator/node_modules/@shopify/polaris/build/esm/components/Modal/Modal.js"],"sourcesContent":["import React, { useState, useId, useRef, useCallback } from 'react';\nimport { TransitionGroup } from 'react-transition-group';\nimport { focusFirstFocusableNode } from '../../utilities/focus.js';\nimport { WithinContentContext } from '../../utilities/within-content-context.js';\nimport { wrapWithComponent } from '../../utilities/components.js';\nimport styles from './Modal.css.js';\nimport { Section } from './components/Section/Section.js';\nimport { Dialog } from './components/Dialog/Dialog.js';\nimport { Header } from './components/Header/Header.js';\nimport { Backdrop } from '../Backdrop/Backdrop.js';\nimport { Footer } from './components/Footer/Footer.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Box } from '../Box/Box.js';\nimport { Scrollable } from '../Scrollable/Scrollable.js';\nimport { Portal } from '../Portal/Portal.js';\nimport { InlineStack } from '../InlineStack/InlineStack.js';\nimport { Spinner } from '../Spinner/Spinner.js';\n\nconst IFRAME_LOADING_HEIGHT = 200;\nconst DEFAULT_IFRAME_CONTENT_HEIGHT = 400;\nconst Modal = function Modal({\n  children,\n  title,\n  titleHidden = false,\n  src,\n  iFrameName,\n  open,\n  instant,\n  sectioned,\n  loading,\n  size,\n  limitHeight,\n  footer,\n  primaryAction,\n  secondaryActions,\n  onScrolledToBottom,\n  activator,\n  activatorWrapper = 'div',\n  onClose,\n  onIFrameLoad,\n  onTransitionEnd,\n  noScroll\n}) {\n  const [iframeHeight, setIframeHeight] = useState(IFRAME_LOADING_HEIGHT);\n  const [closing, setClosing] = useState(false);\n  const headerId = useId();\n  const activatorRef = useRef(null);\n  const i18n = useI18n();\n  const iframeTitle = i18n.translate('Polaris.Modal.iFrameTitle');\n  let dialog;\n  let backdrop;\n  const handleEntered = useCallback(() => {\n    if (onTransitionEnd) {\n      onTransitionEnd();\n    }\n  }, [onTransitionEnd]);\n  const handleExited = useCallback(() => {\n    setIframeHeight(IFRAME_LOADING_HEIGHT);\n    const activatorElement = activator && isRef(activator) ? activator && activator.current : activatorRef.current;\n    if (activatorElement) {\n      requestAnimationFrame(() => focusFirstFocusableNode(activatorElement));\n    }\n  }, [activator]);\n  const handleIFrameLoad = useCallback(evt => {\n    const iframe = evt.target;\n    if (iframe && iframe.contentWindow) {\n      try {\n        setIframeHeight(iframe.contentWindow.document.body.scrollHeight);\n      } catch (_error) {\n        setIframeHeight(DEFAULT_IFRAME_CONTENT_HEIGHT);\n      }\n    }\n    if (onIFrameLoad != null) {\n      onIFrameLoad(evt);\n    }\n  }, [onIFrameLoad]);\n  if (open) {\n    const footerMarkup = !footer && !primaryAction && !secondaryActions ? null : /*#__PURE__*/React.createElement(Footer, {\n      primaryAction: primaryAction,\n      secondaryActions: secondaryActions\n    }, footer);\n    const content = sectioned ? wrapWithComponent(children, Section, {\n      titleHidden\n    }) : children;\n    const body = loading ? /*#__PURE__*/React.createElement(Box, {\n      padding: \"400\"\n    }, /*#__PURE__*/React.createElement(InlineStack, {\n      gap: \"400\",\n      align: \"center\",\n      blockAlign: \"center\"\n    }, /*#__PURE__*/React.createElement(Spinner, null))) : content;\n    const scrollContainerMarkup = noScroll ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.NoScrollBody\n    }, /*#__PURE__*/React.createElement(Box, {\n      width: \"100%\",\n      overflowX: \"hidden\",\n      overflowY: \"hidden\"\n    }, body)) : /*#__PURE__*/React.createElement(Scrollable, {\n      shadow: true,\n      className: styles.Body,\n      onScrolledToBottom: onScrolledToBottom\n    }, body);\n    const bodyMarkup = src ? /*#__PURE__*/React.createElement(\"iframe\", {\n      name: iFrameName,\n      title: iframeTitle,\n      src: src,\n      className: styles.IFrame,\n      onLoad: handleIFrameLoad,\n      style: {\n        height: `${iframeHeight}px`\n      }\n    }) : scrollContainerMarkup;\n    dialog = /*#__PURE__*/React.createElement(Dialog, {\n      instant: instant,\n      labelledBy: headerId,\n      onClose: onClose,\n      onEntered: handleEntered,\n      onExited: handleExited,\n      size: size,\n      limitHeight: limitHeight,\n      setClosing: setClosing\n    }, /*#__PURE__*/React.createElement(Header, {\n      titleHidden: titleHidden,\n      id: headerId,\n      closing: closing,\n      onClose: onClose\n    }, title), bodyMarkup, footerMarkup);\n    backdrop = /*#__PURE__*/React.createElement(Backdrop, {\n      setClosing: setClosing,\n      onClick: onClose\n    });\n  }\n  const animated = !instant;\n  const activatorMarkup = activator && !isRef(activator) ? /*#__PURE__*/React.createElement(Box, {\n    ref: activatorRef,\n    as: activatorWrapper\n  }, activator) : null;\n  return /*#__PURE__*/React.createElement(WithinContentContext.Provider, {\n    value: true\n  }, activatorMarkup, /*#__PURE__*/React.createElement(Portal, {\n    idPrefix: \"modal\"\n  }, /*#__PURE__*/React.createElement(TransitionGroup, {\n    appear: animated,\n    enter: animated,\n    exit: animated\n  }, dialog), backdrop));\n};\nfunction isRef(ref) {\n  return Object.prototype.hasOwnProperty.call(ref, 'current');\n}\nModal.Section = Section;\n\nexport { Modal };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}